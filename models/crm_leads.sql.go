// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: crm_leads.sql

package models

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const crmAnyLead = `-- name: CrmAnyLead :many
select
  leads.id, leads.name, leads.email, leads.lead_source, leads.status, leads.lead_score, leads.owner_id, leads.campaign_id, leads.converted_at, leads.converted_contact_id, leads.converted_company_id, leads.converted_opportunity_id, leads.created_at, leads.updated_at,
  owner.id, owner.name, owner.email, owner.email_verified, owner.image, owner.created_at, owner.updated_at, owner.role, owner.banned, owner.ban_reason, owner.ban_expires,
  campaign.id, campaign.name, campaign.budget, campaign.start_date, campaign.end_date, campaign.created_at, campaign.updated_at,
  converted_contact.id, converted_contact.name, converted_contact.email, converted_contact.phone_number, converted_contact.job_title, converted_contact.company_id, converted_contact.owner_id, converted_contact.created_at, converted_contact.updated_at,
  converted_company.id, converted_company.name, converted_company.street, converted_company.city, converted_company.state, converted_company.postal_code, converted_company.country, converted_company.phone_number, converted_company.industry, converted_company.website, converted_company.annual_revenue, converted_company.owner_id, converted_company.created_at, converted_company.updated_at,
  converted_opportunity.id, converted_opportunity.name, converted_opportunity.stage, converted_opportunity.deal_value, converted_opportunity.probability, converted_opportunity.expected_close_date, converted_opportunity.lost_reason, converted_opportunity.source, converted_opportunity.owner_id, converted_opportunity.contact_id, converted_opportunity.company_id, converted_opportunity.campaign_id, converted_opportunity.created_at, converted_opportunity.updated_at
from
  "crm"."leads" as leads
  inner join "public"."user" as owner on leads.owner_id = owner.id
  left join "crm"."campaigns" as campaign on leads.campaign_id = campaign.id
  left join "crm"."contacts" as converted_contact on leads.converted_contact_id = converted_contact.id
  left join "crm"."companies" as converted_company on leads.converted_company_id = converted_company.id
  left join "crm"."opportunities" as converted_opportunity on leads.converted_opportunity_id = converted_opportunity.id
where
  leads.id = any ($1::uuid[])
`

type CrmAnyLeadRow struct {
	CrmLead        CrmLead        `db:"crm_lead" json:"crm_lead"`
	User           User           `db:"user" json:"user"`
	CrmCampaign    CrmCampaign    `db:"crm_campaign" json:"crm_campaign"`
	CrmContact     CrmContact     `db:"crm_contact" json:"crm_contact"`
	CrmCompany     CrmCompany     `db:"crm_company" json:"crm_company"`
	CrmOpportunity CrmOpportunity `db:"crm_opportunity" json:"crm_opportunity"`
}

func (q *Queries) CrmAnyLead(ctx context.Context, ids []pgtype.UUID) ([]CrmAnyLeadRow, error) {
	rows, err := q.db.Query(ctx, crmAnyLead, ids)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []CrmAnyLeadRow
	for rows.Next() {
		var i CrmAnyLeadRow
		if err := rows.Scan(
			&i.CrmLead.ID,
			&i.CrmLead.Name,
			&i.CrmLead.Email,
			&i.CrmLead.LeadSource,
			&i.CrmLead.Status,
			&i.CrmLead.LeadScore,
			&i.CrmLead.OwnerID,
			&i.CrmLead.CampaignID,
			&i.CrmLead.ConvertedAt,
			&i.CrmLead.ConvertedContactID,
			&i.CrmLead.ConvertedCompanyID,
			&i.CrmLead.ConvertedOpportunityID,
			&i.CrmLead.CreatedAt,
			&i.CrmLead.UpdatedAt,
			&i.User.ID,
			&i.User.Name,
			&i.User.Email,
			&i.User.EmailVerified,
			&i.User.Image,
			&i.User.CreatedAt,
			&i.User.UpdatedAt,
			&i.User.Role,
			&i.User.Banned,
			&i.User.BanReason,
			&i.User.BanExpires,
			&i.CrmCampaign.ID,
			&i.CrmCampaign.Name,
			&i.CrmCampaign.Budget,
			&i.CrmCampaign.StartDate,
			&i.CrmCampaign.EndDate,
			&i.CrmCampaign.CreatedAt,
			&i.CrmCampaign.UpdatedAt,
			&i.CrmContact.ID,
			&i.CrmContact.Name,
			&i.CrmContact.Email,
			&i.CrmContact.PhoneNumber,
			&i.CrmContact.JobTitle,
			&i.CrmContact.CompanyID,
			&i.CrmContact.OwnerID,
			&i.CrmContact.CreatedAt,
			&i.CrmContact.UpdatedAt,
			&i.CrmCompany.ID,
			&i.CrmCompany.Name,
			&i.CrmCompany.Street,
			&i.CrmCompany.City,
			&i.CrmCompany.State,
			&i.CrmCompany.PostalCode,
			&i.CrmCompany.Country,
			&i.CrmCompany.PhoneNumber,
			&i.CrmCompany.Industry,
			&i.CrmCompany.Website,
			&i.CrmCompany.AnnualRevenue,
			&i.CrmCompany.OwnerID,
			&i.CrmCompany.CreatedAt,
			&i.CrmCompany.UpdatedAt,
			&i.CrmOpportunity.ID,
			&i.CrmOpportunity.Name,
			&i.CrmOpportunity.Stage,
			&i.CrmOpportunity.DealValue,
			&i.CrmOpportunity.Probability,
			&i.CrmOpportunity.ExpectedCloseDate,
			&i.CrmOpportunity.LostReason,
			&i.CrmOpportunity.Source,
			&i.CrmOpportunity.OwnerID,
			&i.CrmOpportunity.ContactID,
			&i.CrmOpportunity.CompanyID,
			&i.CrmOpportunity.CampaignID,
			&i.CrmOpportunity.CreatedAt,
			&i.CrmOpportunity.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const crmFindLead = `-- name: CrmFindLead :one
select
  leads.id, leads.name, leads.email, leads.lead_source, leads.status, leads.lead_score, leads.owner_id, leads.campaign_id, leads.converted_at, leads.converted_contact_id, leads.converted_company_id, leads.converted_opportunity_id, leads.created_at, leads.updated_at,
  owner.id, owner.name, owner.email, owner.email_verified, owner.image, owner.created_at, owner.updated_at, owner.role, owner.banned, owner.ban_reason, owner.ban_expires,
  campaign.id, campaign.name, campaign.budget, campaign.start_date, campaign.end_date, campaign.created_at, campaign.updated_at,
  converted_contact.id, converted_contact.name, converted_contact.email, converted_contact.phone_number, converted_contact.job_title, converted_contact.company_id, converted_contact.owner_id, converted_contact.created_at, converted_contact.updated_at,
  converted_company.id, converted_company.name, converted_company.street, converted_company.city, converted_company.state, converted_company.postal_code, converted_company.country, converted_company.phone_number, converted_company.industry, converted_company.website, converted_company.annual_revenue, converted_company.owner_id, converted_company.created_at, converted_company.updated_at,
  converted_opportunity.id, converted_opportunity.name, converted_opportunity.stage, converted_opportunity.deal_value, converted_opportunity.probability, converted_opportunity.expected_close_date, converted_opportunity.lost_reason, converted_opportunity.source, converted_opportunity.owner_id, converted_opportunity.contact_id, converted_opportunity.company_id, converted_opportunity.campaign_id, converted_opportunity.created_at, converted_opportunity.updated_at
from
  "crm"."leads" as leads
  inner join "public"."user" as owner on leads.owner_id = owner.id
  left join "crm"."campaigns" as campaign on leads.campaign_id = campaign.id
  left join "crm"."contacts" as converted_contact on leads.converted_contact_id = converted_contact.id
  left join "crm"."companies" as converted_company on leads.converted_company_id = converted_company.id
  left join "crm"."opportunities" as converted_opportunity on leads.converted_opportunity_id = converted_opportunity.id
where
  leads.id = $1::uuid
`

type CrmFindLeadRow struct {
	CrmLead        CrmLead        `db:"crm_lead" json:"crm_lead"`
	User           User           `db:"user" json:"user"`
	CrmCampaign    CrmCampaign    `db:"crm_campaign" json:"crm_campaign"`
	CrmContact     CrmContact     `db:"crm_contact" json:"crm_contact"`
	CrmCompany     CrmCompany     `db:"crm_company" json:"crm_company"`
	CrmOpportunity CrmOpportunity `db:"crm_opportunity" json:"crm_opportunity"`
}

func (q *Queries) CrmFindLead(ctx context.Context, id pgtype.UUID) (CrmFindLeadRow, error) {
	row := q.db.QueryRow(ctx, crmFindLead, id)
	var i CrmFindLeadRow
	err := row.Scan(
		&i.CrmLead.ID,
		&i.CrmLead.Name,
		&i.CrmLead.Email,
		&i.CrmLead.LeadSource,
		&i.CrmLead.Status,
		&i.CrmLead.LeadScore,
		&i.CrmLead.OwnerID,
		&i.CrmLead.CampaignID,
		&i.CrmLead.ConvertedAt,
		&i.CrmLead.ConvertedContactID,
		&i.CrmLead.ConvertedCompanyID,
		&i.CrmLead.ConvertedOpportunityID,
		&i.CrmLead.CreatedAt,
		&i.CrmLead.UpdatedAt,
		&i.User.ID,
		&i.User.Name,
		&i.User.Email,
		&i.User.EmailVerified,
		&i.User.Image,
		&i.User.CreatedAt,
		&i.User.UpdatedAt,
		&i.User.Role,
		&i.User.Banned,
		&i.User.BanReason,
		&i.User.BanExpires,
		&i.CrmCampaign.ID,
		&i.CrmCampaign.Name,
		&i.CrmCampaign.Budget,
		&i.CrmCampaign.StartDate,
		&i.CrmCampaign.EndDate,
		&i.CrmCampaign.CreatedAt,
		&i.CrmCampaign.UpdatedAt,
		&i.CrmContact.ID,
		&i.CrmContact.Name,
		&i.CrmContact.Email,
		&i.CrmContact.PhoneNumber,
		&i.CrmContact.JobTitle,
		&i.CrmContact.CompanyID,
		&i.CrmContact.OwnerID,
		&i.CrmContact.CreatedAt,
		&i.CrmContact.UpdatedAt,
		&i.CrmCompany.ID,
		&i.CrmCompany.Name,
		&i.CrmCompany.Street,
		&i.CrmCompany.City,
		&i.CrmCompany.State,
		&i.CrmCompany.PostalCode,
		&i.CrmCompany.Country,
		&i.CrmCompany.PhoneNumber,
		&i.CrmCompany.Industry,
		&i.CrmCompany.Website,
		&i.CrmCompany.AnnualRevenue,
		&i.CrmCompany.OwnerID,
		&i.CrmCompany.CreatedAt,
		&i.CrmCompany.UpdatedAt,
		&i.CrmOpportunity.ID,
		&i.CrmOpportunity.Name,
		&i.CrmOpportunity.Stage,
		&i.CrmOpportunity.DealValue,
		&i.CrmOpportunity.Probability,
		&i.CrmOpportunity.ExpectedCloseDate,
		&i.CrmOpportunity.LostReason,
		&i.CrmOpportunity.Source,
		&i.CrmOpportunity.OwnerID,
		&i.CrmOpportunity.ContactID,
		&i.CrmOpportunity.CompanyID,
		&i.CrmOpportunity.CampaignID,
		&i.CrmOpportunity.CreatedAt,
		&i.CrmOpportunity.UpdatedAt,
	)
	return i, err
}

const crmInsertLead = `-- name: CrmInsertLead :one
insert into "crm"."leads"(name, email, lead_source, status, lead_score, owner_id, campaign_id, converted_at, converted_contact_id, converted_company_id, converted_opportunity_id)
  values ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)
returning
  id, name, email, lead_source, status, lead_score, owner_id, campaign_id, converted_at, converted_contact_id, converted_company_id, converted_opportunity_id, created_at, updated_at
`

type CrmInsertLeadParams struct {
	Name                   string             `db:"name" json:"name"`
	Email                  string             `db:"email" json:"email"`
	LeadSource             NullCrmLeadSource  `db:"lead_source" json:"lead_source"`
	Status                 NullCrmLeadStatus  `db:"status" json:"status"`
	LeadScore              pgtype.Int4        `db:"lead_score" json:"lead_score"`
	OwnerID                string             `db:"owner_id" json:"owner_id"`
	CampaignID             pgtype.UUID        `db:"campaign_id" json:"campaign_id"`
	ConvertedAt            pgtype.Timestamptz `db:"converted_at" json:"converted_at"`
	ConvertedContactID     pgtype.UUID        `db:"converted_contact_id" json:"converted_contact_id"`
	ConvertedCompanyID     pgtype.UUID        `db:"converted_company_id" json:"converted_company_id"`
	ConvertedOpportunityID pgtype.UUID        `db:"converted_opportunity_id" json:"converted_opportunity_id"`
}

func (q *Queries) CrmInsertLead(ctx context.Context, arg CrmInsertLeadParams) (CrmLead, error) {
	row := q.db.QueryRow(ctx, crmInsertLead,
		arg.Name,
		arg.Email,
		arg.LeadSource,
		arg.Status,
		arg.LeadScore,
		arg.OwnerID,
		arg.CampaignID,
		arg.ConvertedAt,
		arg.ConvertedContactID,
		arg.ConvertedCompanyID,
		arg.ConvertedOpportunityID,
	)
	var i CrmLead
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Email,
		&i.LeadSource,
		&i.Status,
		&i.LeadScore,
		&i.OwnerID,
		&i.CampaignID,
		&i.ConvertedAt,
		&i.ConvertedContactID,
		&i.ConvertedCompanyID,
		&i.ConvertedOpportunityID,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const crmPaginateLead = `-- name: CrmPaginateLead :many
select
  leads.id, leads.name, leads.email, leads.lead_source, leads.status, leads.lead_score, leads.owner_id, leads.campaign_id, leads.converted_at, leads.converted_contact_id, leads.converted_company_id, leads.converted_opportunity_id, leads.created_at, leads.updated_at,
  owner.id, owner.name, owner.email, owner.email_verified, owner.image, owner.created_at, owner.updated_at, owner.role, owner.banned, owner.ban_reason, owner.ban_expires,
  campaign.id, campaign.name, campaign.budget, campaign.start_date, campaign.end_date, campaign.created_at, campaign.updated_at,
  converted_contact.id, converted_contact.name, converted_contact.email, converted_contact.phone_number, converted_contact.job_title, converted_contact.company_id, converted_contact.owner_id, converted_contact.created_at, converted_contact.updated_at,
  converted_company.id, converted_company.name, converted_company.street, converted_company.city, converted_company.state, converted_company.postal_code, converted_company.country, converted_company.phone_number, converted_company.industry, converted_company.website, converted_company.annual_revenue, converted_company.owner_id, converted_company.created_at, converted_company.updated_at,
  converted_opportunity.id, converted_opportunity.name, converted_opportunity.stage, converted_opportunity.deal_value, converted_opportunity.probability, converted_opportunity.expected_close_date, converted_opportunity.lost_reason, converted_opportunity.source, converted_opportunity.owner_id, converted_opportunity.contact_id, converted_opportunity.company_id, converted_opportunity.campaign_id, converted_opportunity.created_at, converted_opportunity.updated_at
from
  "crm"."leads" as leads
  inner join "public"."user" as owner on leads.owner_id = owner.id
  left join "crm"."campaigns" as campaign on leads.campaign_id = campaign.id
  left join "crm"."contacts" as converted_contact on leads.converted_contact_id = converted_contact.id
  left join "crm"."companies" as converted_company on leads.converted_company_id = converted_company.id
  left join "crm"."opportunities" as converted_opportunity on leads.converted_opportunity_id = converted_opportunity.id
where (leads.name ilike $1::text
  or leads.email ilike $1::text
  or leads.status::text ilike $1::text
  or leads.lead_source::text ilike $1::text
  or owner.name ilike $1::text
  or campaign.name ilike $1::text
  or $1::text is null)
limit $3::int offset ($2::int - 1) * $3::int
`

type CrmPaginateLeadParams struct {
	Search  pgtype.Text `db:"search" json:"search"`
	Page    int32       `db:"page" json:"page"`
	PerPage int32       `db:"per_page" json:"per_page"`
}

type CrmPaginateLeadRow struct {
	CrmLead        CrmLead        `db:"crm_lead" json:"crm_lead"`
	User           User           `db:"user" json:"user"`
	CrmCampaign    CrmCampaign    `db:"crm_campaign" json:"crm_campaign"`
	CrmContact     CrmContact     `db:"crm_contact" json:"crm_contact"`
	CrmCompany     CrmCompany     `db:"crm_company" json:"crm_company"`
	CrmOpportunity CrmOpportunity `db:"crm_opportunity" json:"crm_opportunity"`
}

func (q *Queries) CrmPaginateLead(ctx context.Context, arg CrmPaginateLeadParams) ([]CrmPaginateLeadRow, error) {
	rows, err := q.db.Query(ctx, crmPaginateLead, arg.Search, arg.Page, arg.PerPage)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []CrmPaginateLeadRow
	for rows.Next() {
		var i CrmPaginateLeadRow
		if err := rows.Scan(
			&i.CrmLead.ID,
			&i.CrmLead.Name,
			&i.CrmLead.Email,
			&i.CrmLead.LeadSource,
			&i.CrmLead.Status,
			&i.CrmLead.LeadScore,
			&i.CrmLead.OwnerID,
			&i.CrmLead.CampaignID,
			&i.CrmLead.ConvertedAt,
			&i.CrmLead.ConvertedContactID,
			&i.CrmLead.ConvertedCompanyID,
			&i.CrmLead.ConvertedOpportunityID,
			&i.CrmLead.CreatedAt,
			&i.CrmLead.UpdatedAt,
			&i.User.ID,
			&i.User.Name,
			&i.User.Email,
			&i.User.EmailVerified,
			&i.User.Image,
			&i.User.CreatedAt,
			&i.User.UpdatedAt,
			&i.User.Role,
			&i.User.Banned,
			&i.User.BanReason,
			&i.User.BanExpires,
			&i.CrmCampaign.ID,
			&i.CrmCampaign.Name,
			&i.CrmCampaign.Budget,
			&i.CrmCampaign.StartDate,
			&i.CrmCampaign.EndDate,
			&i.CrmCampaign.CreatedAt,
			&i.CrmCampaign.UpdatedAt,
			&i.CrmContact.ID,
			&i.CrmContact.Name,
			&i.CrmContact.Email,
			&i.CrmContact.PhoneNumber,
			&i.CrmContact.JobTitle,
			&i.CrmContact.CompanyID,
			&i.CrmContact.OwnerID,
			&i.CrmContact.CreatedAt,
			&i.CrmContact.UpdatedAt,
			&i.CrmCompany.ID,
			&i.CrmCompany.Name,
			&i.CrmCompany.Street,
			&i.CrmCompany.City,
			&i.CrmCompany.State,
			&i.CrmCompany.PostalCode,
			&i.CrmCompany.Country,
			&i.CrmCompany.PhoneNumber,
			&i.CrmCompany.Industry,
			&i.CrmCompany.Website,
			&i.CrmCompany.AnnualRevenue,
			&i.CrmCompany.OwnerID,
			&i.CrmCompany.CreatedAt,
			&i.CrmCompany.UpdatedAt,
			&i.CrmOpportunity.ID,
			&i.CrmOpportunity.Name,
			&i.CrmOpportunity.Stage,
			&i.CrmOpportunity.DealValue,
			&i.CrmOpportunity.Probability,
			&i.CrmOpportunity.ExpectedCloseDate,
			&i.CrmOpportunity.LostReason,
			&i.CrmOpportunity.Source,
			&i.CrmOpportunity.OwnerID,
			&i.CrmOpportunity.ContactID,
			&i.CrmOpportunity.CompanyID,
			&i.CrmOpportunity.CampaignID,
			&i.CrmOpportunity.CreatedAt,
			&i.CrmOpportunity.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const crmRangeLead = `-- name: CrmRangeLead :many
select
  leads.id, leads.name, leads.email, leads.lead_source, leads.status, leads.lead_score, leads.owner_id, leads.campaign_id, leads.converted_at, leads.converted_contact_id, leads.converted_company_id, leads.converted_opportunity_id, leads.created_at, leads.updated_at,
  owner.id, owner.name, owner.email, owner.email_verified, owner.image, owner.created_at, owner.updated_at, owner.role, owner.banned, owner.ban_reason, owner.ban_expires,
  campaign.id, campaign.name, campaign.budget, campaign.start_date, campaign.end_date, campaign.created_at, campaign.updated_at,
  converted_contact.id, converted_contact.name, converted_contact.email, converted_contact.phone_number, converted_contact.job_title, converted_contact.company_id, converted_contact.owner_id, converted_contact.created_at, converted_contact.updated_at,
  converted_company.id, converted_company.name, converted_company.street, converted_company.city, converted_company.state, converted_company.postal_code, converted_company.country, converted_company.phone_number, converted_company.industry, converted_company.website, converted_company.annual_revenue, converted_company.owner_id, converted_company.created_at, converted_company.updated_at,
  converted_opportunity.id, converted_opportunity.name, converted_opportunity.stage, converted_opportunity.deal_value, converted_opportunity.probability, converted_opportunity.expected_close_date, converted_opportunity.lost_reason, converted_opportunity.source, converted_opportunity.owner_id, converted_opportunity.contact_id, converted_opportunity.company_id, converted_opportunity.campaign_id, converted_opportunity.created_at, converted_opportunity.updated_at
from
  "crm"."leads" as leads
  inner join "public"."user" as owner on leads.owner_id = owner.id
  left join "crm"."campaigns" as campaign on leads.campaign_id = campaign.id
  left join "crm"."contacts" as converted_contact on leads.converted_contact_id = converted_contact.id
  left join "crm"."companies" as converted_company on leads.converted_company_id = converted_company.id
  left join "crm"."opportunities" as converted_opportunity on leads.converted_opportunity_id = converted_opportunity.id
where
  leads.created_at >= $1::date
  and leads.created_at <= $2::date
  and (leads.name ilike $3::text
    or leads.email ilike $3::text
    or leads.status::text ilike $3::text
    or leads.lead_source::text ilike $3::text
    or owner.name ilike $3::text
    or campaign.name ilike $3::text
    or $3::text is null)
`

type CrmRangeLeadParams struct {
	Datefrom pgtype.Date `db:"datefrom" json:"datefrom"`
	Dateto   pgtype.Date `db:"dateto" json:"dateto"`
	Search   pgtype.Text `db:"search" json:"search"`
}

type CrmRangeLeadRow struct {
	CrmLead        CrmLead        `db:"crm_lead" json:"crm_lead"`
	User           User           `db:"user" json:"user"`
	CrmCampaign    CrmCampaign    `db:"crm_campaign" json:"crm_campaign"`
	CrmContact     CrmContact     `db:"crm_contact" json:"crm_contact"`
	CrmCompany     CrmCompany     `db:"crm_company" json:"crm_company"`
	CrmOpportunity CrmOpportunity `db:"crm_opportunity" json:"crm_opportunity"`
}

func (q *Queries) CrmRangeLead(ctx context.Context, arg CrmRangeLeadParams) ([]CrmRangeLeadRow, error) {
	rows, err := q.db.Query(ctx, crmRangeLead, arg.Datefrom, arg.Dateto, arg.Search)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []CrmRangeLeadRow
	for rows.Next() {
		var i CrmRangeLeadRow
		if err := rows.Scan(
			&i.CrmLead.ID,
			&i.CrmLead.Name,
			&i.CrmLead.Email,
			&i.CrmLead.LeadSource,
			&i.CrmLead.Status,
			&i.CrmLead.LeadScore,
			&i.CrmLead.OwnerID,
			&i.CrmLead.CampaignID,
			&i.CrmLead.ConvertedAt,
			&i.CrmLead.ConvertedContactID,
			&i.CrmLead.ConvertedCompanyID,
			&i.CrmLead.ConvertedOpportunityID,
			&i.CrmLead.CreatedAt,
			&i.CrmLead.UpdatedAt,
			&i.User.ID,
			&i.User.Name,
			&i.User.Email,
			&i.User.EmailVerified,
			&i.User.Image,
			&i.User.CreatedAt,
			&i.User.UpdatedAt,
			&i.User.Role,
			&i.User.Banned,
			&i.User.BanReason,
			&i.User.BanExpires,
			&i.CrmCampaign.ID,
			&i.CrmCampaign.Name,
			&i.CrmCampaign.Budget,
			&i.CrmCampaign.StartDate,
			&i.CrmCampaign.EndDate,
			&i.CrmCampaign.CreatedAt,
			&i.CrmCampaign.UpdatedAt,
			&i.CrmContact.ID,
			&i.CrmContact.Name,
			&i.CrmContact.Email,
			&i.CrmContact.PhoneNumber,
			&i.CrmContact.JobTitle,
			&i.CrmContact.CompanyID,
			&i.CrmContact.OwnerID,
			&i.CrmContact.CreatedAt,
			&i.CrmContact.UpdatedAt,
			&i.CrmCompany.ID,
			&i.CrmCompany.Name,
			&i.CrmCompany.Street,
			&i.CrmCompany.City,
			&i.CrmCompany.State,
			&i.CrmCompany.PostalCode,
			&i.CrmCompany.Country,
			&i.CrmCompany.PhoneNumber,
			&i.CrmCompany.Industry,
			&i.CrmCompany.Website,
			&i.CrmCompany.AnnualRevenue,
			&i.CrmCompany.OwnerID,
			&i.CrmCompany.CreatedAt,
			&i.CrmCompany.UpdatedAt,
			&i.CrmOpportunity.ID,
			&i.CrmOpportunity.Name,
			&i.CrmOpportunity.Stage,
			&i.CrmOpportunity.DealValue,
			&i.CrmOpportunity.Probability,
			&i.CrmOpportunity.ExpectedCloseDate,
			&i.CrmOpportunity.LostReason,
			&i.CrmOpportunity.Source,
			&i.CrmOpportunity.OwnerID,
			&i.CrmOpportunity.ContactID,
			&i.CrmOpportunity.CompanyID,
			&i.CrmOpportunity.CampaignID,
			&i.CrmOpportunity.CreatedAt,
			&i.CrmOpportunity.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const crmRemoveLead = `-- name: CrmRemoveLead :exec
delete from "crm"."leads"
where id = $1::uuid
`

func (q *Queries) CrmRemoveLead(ctx context.Context, id pgtype.UUID) error {
	_, err := q.db.Exec(ctx, crmRemoveLead, id)
	return err
}

const crmUpdateLead = `-- name: CrmUpdateLead :one
update
  "crm"."leads"
set
  updated_at = now(),
  name = case when $1 is not null then
    $1::text
  else
    name
  end,
  email = case when $2 is not null then
    $2::text
  else
    email
  end,
  lead_source = case when $3 is not null then
    $3::crm.lead_source
  else
    lead_source
  end,
  status = case when $4 is not null then
    $4::crm.lead_status
  else
    status
  end,
  lead_score = case when $5 is not null then
    $5::integer
  else
    lead_score
  end,
  owner_id = case when $6 is not null then
    $6::text
  else
    owner_id
  end,
  campaign_id = case when $7 is not null then
    $7::uuid
  else
    campaign_id
  end,
  converted_at = case when $8 is not null then
    $8::timestamptz
  else
    converted_at
  end,
  converted_contact_id = case when $9 is not null then
    $9::uuid
  else
    converted_contact_id
  end,
  converted_company_id = case when $10 is not null then
    $10::uuid
  else
    converted_company_id
  end,
  converted_opportunity_id = case when $11 is not null then
    $11::uuid
  else
    converted_opportunity_id
  end
where
  id = $12::uuid
returning
  id, name, email, lead_source, status, lead_score, owner_id, campaign_id, converted_at, converted_contact_id, converted_company_id, converted_opportunity_id, created_at, updated_at
`

type CrmUpdateLeadParams struct {
	Name                   string             `db:"name" json:"name"`
	Email                  string             `db:"email" json:"email"`
	LeadSource             NullCrmLeadSource  `db:"lead_source" json:"lead_source"`
	Status                 NullCrmLeadStatus  `db:"status" json:"status"`
	LeadScore              pgtype.Int4        `db:"lead_score" json:"lead_score"`
	OwnerID                string             `db:"owner_id" json:"owner_id"`
	CampaignID             pgtype.UUID        `db:"campaign_id" json:"campaign_id"`
	ConvertedAt            pgtype.Timestamptz `db:"converted_at" json:"converted_at"`
	ConvertedContactID     pgtype.UUID        `db:"converted_contact_id" json:"converted_contact_id"`
	ConvertedCompanyID     pgtype.UUID        `db:"converted_company_id" json:"converted_company_id"`
	ConvertedOpportunityID pgtype.UUID        `db:"converted_opportunity_id" json:"converted_opportunity_id"`
	ID                     pgtype.UUID        `db:"id" json:"id"`
}

func (q *Queries) CrmUpdateLead(ctx context.Context, arg CrmUpdateLeadParams) (CrmLead, error) {
	row := q.db.QueryRow(ctx, crmUpdateLead,
		arg.Name,
		arg.Email,
		arg.LeadSource,
		arg.Status,
		arg.LeadScore,
		arg.OwnerID,
		arg.CampaignID,
		arg.ConvertedAt,
		arg.ConvertedContactID,
		arg.ConvertedCompanyID,
		arg.ConvertedOpportunityID,
		arg.ID,
	)
	var i CrmLead
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Email,
		&i.LeadSource,
		&i.Status,
		&i.LeadScore,
		&i.OwnerID,
		&i.CampaignID,
		&i.ConvertedAt,
		&i.ConvertedContactID,
		&i.ConvertedCompanyID,
		&i.ConvertedOpportunityID,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}
