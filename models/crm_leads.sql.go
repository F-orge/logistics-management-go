// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: crm_leads.sql

package models

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const crmAnyLead = `-- name: CrmAnyLead :many
select
  leads.id, leads.name, leads.email, leads.lead_source, leads.status, leads.lead_score, leads.owner_id, leads.campaign_id, leads.converted_at, leads.converted_contact_id, leads.converted_company_id, leads.converted_opportunity_id, leads.created_at, leads.updated_at,
  owner.id, owner.name, owner.email, owner.email_verified, owner.image, owner.created_at, owner.updated_at, owner.role, owner.banned, owner.ban_reason, owner.ban_expires,
  campaign.id, campaign.name, campaign.budget, campaign.start_date, campaign.end_date, campaign.created_at, campaign.updated_at,
  converted_contact.id, converted_contact.name, converted_contact.email, converted_contact.phone_number, converted_contact.job_title, converted_contact.company_id, converted_contact.owner_id, converted_contact.created_at, converted_contact.updated_at,
  converted_company.id, converted_company.name, converted_company.street, converted_company.city, converted_company.state, converted_company.postal_code, converted_company.country, converted_company.phone_number, converted_company.industry, converted_company.website, converted_company.annual_revenue, converted_company.owner_id, converted_company.created_at, converted_company.updated_at,
  converted_opportunity.id, converted_opportunity.name, converted_opportunity.stage, converted_opportunity.deal_value, converted_opportunity.probability, converted_opportunity.expected_close_date, converted_opportunity.lost_reason, converted_opportunity.source, converted_opportunity.owner_id, converted_opportunity.contact_id, converted_opportunity.company_id, converted_opportunity.campaign_id, converted_opportunity.created_at, converted_opportunity.updated_at
from
  "crm"."leads" as leads
  inner join "public"."user" as owner on leads.owner_id = owner.id
  left join "crm"."campaigns" as campaign on leads.campaign_id = campaign.id
  left join "crm"."contacts" as converted_contact on leads.converted_contact_id = converted_contact.id
  left join "crm"."companies" as converted_company on leads.converted_company_id = converted_company.id
  left join "crm"."opportunities" as converted_opportunity on leads.converted_opportunity_id = converted_opportunity.id
where
  leads.id = any ($1::uuid[])
`

type CrmAnyLeadRow struct {
	CrmLead        CrmLead
	User           User
	CrmCampaign    CrmCampaign
	CrmContact     CrmContact
	CrmCompany     CrmCompany
	CrmOpportunity CrmOpportunity
}

func (q *Queries) CrmAnyLead(ctx context.Context, ids []pgtype.UUID) ([]CrmAnyLeadRow, error) {
	rows, err := q.db.Query(ctx, crmAnyLead, ids)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []CrmAnyLeadRow
	for rows.Next() {
		var i CrmAnyLeadRow
		if err := rows.Scan(
			&i.CrmLead.ID,
			&i.CrmLead.Name,
			&i.CrmLead.Email,
			&i.CrmLead.LeadSource,
			&i.CrmLead.Status,
			&i.CrmLead.LeadScore,
			&i.CrmLead.OwnerID,
			&i.CrmLead.CampaignID,
			&i.CrmLead.ConvertedAt,
			&i.CrmLead.ConvertedContactID,
			&i.CrmLead.ConvertedCompanyID,
			&i.CrmLead.ConvertedOpportunityID,
			&i.CrmLead.CreatedAt,
			&i.CrmLead.UpdatedAt,
			&i.User.ID,
			&i.User.Name,
			&i.User.Email,
			&i.User.EmailVerified,
			&i.User.Image,
			&i.User.CreatedAt,
			&i.User.UpdatedAt,
			&i.User.Role,
			&i.User.Banned,
			&i.User.BanReason,
			&i.User.BanExpires,
			&i.CrmCampaign.ID,
			&i.CrmCampaign.Name,
			&i.CrmCampaign.Budget,
			&i.CrmCampaign.StartDate,
			&i.CrmCampaign.EndDate,
			&i.CrmCampaign.CreatedAt,
			&i.CrmCampaign.UpdatedAt,
			&i.CrmContact.ID,
			&i.CrmContact.Name,
			&i.CrmContact.Email,
			&i.CrmContact.PhoneNumber,
			&i.CrmContact.JobTitle,
			&i.CrmContact.CompanyID,
			&i.CrmContact.OwnerID,
			&i.CrmContact.CreatedAt,
			&i.CrmContact.UpdatedAt,
			&i.CrmCompany.ID,
			&i.CrmCompany.Name,
			&i.CrmCompany.Street,
			&i.CrmCompany.City,
			&i.CrmCompany.State,
			&i.CrmCompany.PostalCode,
			&i.CrmCompany.Country,
			&i.CrmCompany.PhoneNumber,
			&i.CrmCompany.Industry,
			&i.CrmCompany.Website,
			&i.CrmCompany.AnnualRevenue,
			&i.CrmCompany.OwnerID,
			&i.CrmCompany.CreatedAt,
			&i.CrmCompany.UpdatedAt,
			&i.CrmOpportunity.ID,
			&i.CrmOpportunity.Name,
			&i.CrmOpportunity.Stage,
			&i.CrmOpportunity.DealValue,
			&i.CrmOpportunity.Probability,
			&i.CrmOpportunity.ExpectedCloseDate,
			&i.CrmOpportunity.LostReason,
			&i.CrmOpportunity.Source,
			&i.CrmOpportunity.OwnerID,
			&i.CrmOpportunity.ContactID,
			&i.CrmOpportunity.CompanyID,
			&i.CrmOpportunity.CampaignID,
			&i.CrmOpportunity.CreatedAt,
			&i.CrmOpportunity.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const crmFindLead = `-- name: CrmFindLead :one
select
  leads.id, leads.name, leads.email, leads.lead_source, leads.status, leads.lead_score, leads.owner_id, leads.campaign_id, leads.converted_at, leads.converted_contact_id, leads.converted_company_id, leads.converted_opportunity_id, leads.created_at, leads.updated_at,
  owner.id, owner.name, owner.email, owner.email_verified, owner.image, owner.created_at, owner.updated_at, owner.role, owner.banned, owner.ban_reason, owner.ban_expires,
  campaign.id, campaign.name, campaign.budget, campaign.start_date, campaign.end_date, campaign.created_at, campaign.updated_at,
  converted_contact.id, converted_contact.name, converted_contact.email, converted_contact.phone_number, converted_contact.job_title, converted_contact.company_id, converted_contact.owner_id, converted_contact.created_at, converted_contact.updated_at,
  converted_company.id, converted_company.name, converted_company.street, converted_company.city, converted_company.state, converted_company.postal_code, converted_company.country, converted_company.phone_number, converted_company.industry, converted_company.website, converted_company.annual_revenue, converted_company.owner_id, converted_company.created_at, converted_company.updated_at,
  converted_opportunity.id, converted_opportunity.name, converted_opportunity.stage, converted_opportunity.deal_value, converted_opportunity.probability, converted_opportunity.expected_close_date, converted_opportunity.lost_reason, converted_opportunity.source, converted_opportunity.owner_id, converted_opportunity.contact_id, converted_opportunity.company_id, converted_opportunity.campaign_id, converted_opportunity.created_at, converted_opportunity.updated_at
from
  "crm"."leads" as leads
  inner join "public"."user" as owner on leads.owner_id = owner.id
  left join "crm"."campaigns" as campaign on leads.campaign_id = campaign.id
  left join "crm"."contacts" as converted_contact on leads.converted_contact_id = converted_contact.id
  left join "crm"."companies" as converted_company on leads.converted_company_id = converted_company.id
  left join "crm"."opportunities" as converted_opportunity on leads.converted_opportunity_id = converted_opportunity.id
where
  leads.id = $1::uuid
`

type CrmFindLeadRow struct {
	CrmLead        CrmLead
	User           User
	CrmCampaign    CrmCampaign
	CrmContact     CrmContact
	CrmCompany     CrmCompany
	CrmOpportunity CrmOpportunity
}

func (q *Queries) CrmFindLead(ctx context.Context, id pgtype.UUID) (CrmFindLeadRow, error) {
	row := q.db.QueryRow(ctx, crmFindLead, id)
	var i CrmFindLeadRow
	err := row.Scan(
		&i.CrmLead.ID,
		&i.CrmLead.Name,
		&i.CrmLead.Email,
		&i.CrmLead.LeadSource,
		&i.CrmLead.Status,
		&i.CrmLead.LeadScore,
		&i.CrmLead.OwnerID,
		&i.CrmLead.CampaignID,
		&i.CrmLead.ConvertedAt,
		&i.CrmLead.ConvertedContactID,
		&i.CrmLead.ConvertedCompanyID,
		&i.CrmLead.ConvertedOpportunityID,
		&i.CrmLead.CreatedAt,
		&i.CrmLead.UpdatedAt,
		&i.User.ID,
		&i.User.Name,
		&i.User.Email,
		&i.User.EmailVerified,
		&i.User.Image,
		&i.User.CreatedAt,
		&i.User.UpdatedAt,
		&i.User.Role,
		&i.User.Banned,
		&i.User.BanReason,
		&i.User.BanExpires,
		&i.CrmCampaign.ID,
		&i.CrmCampaign.Name,
		&i.CrmCampaign.Budget,
		&i.CrmCampaign.StartDate,
		&i.CrmCampaign.EndDate,
		&i.CrmCampaign.CreatedAt,
		&i.CrmCampaign.UpdatedAt,
		&i.CrmContact.ID,
		&i.CrmContact.Name,
		&i.CrmContact.Email,
		&i.CrmContact.PhoneNumber,
		&i.CrmContact.JobTitle,
		&i.CrmContact.CompanyID,
		&i.CrmContact.OwnerID,
		&i.CrmContact.CreatedAt,
		&i.CrmContact.UpdatedAt,
		&i.CrmCompany.ID,
		&i.CrmCompany.Name,
		&i.CrmCompany.Street,
		&i.CrmCompany.City,
		&i.CrmCompany.State,
		&i.CrmCompany.PostalCode,
		&i.CrmCompany.Country,
		&i.CrmCompany.PhoneNumber,
		&i.CrmCompany.Industry,
		&i.CrmCompany.Website,
		&i.CrmCompany.AnnualRevenue,
		&i.CrmCompany.OwnerID,
		&i.CrmCompany.CreatedAt,
		&i.CrmCompany.UpdatedAt,
		&i.CrmOpportunity.ID,
		&i.CrmOpportunity.Name,
		&i.CrmOpportunity.Stage,
		&i.CrmOpportunity.DealValue,
		&i.CrmOpportunity.Probability,
		&i.CrmOpportunity.ExpectedCloseDate,
		&i.CrmOpportunity.LostReason,
		&i.CrmOpportunity.Source,
		&i.CrmOpportunity.OwnerID,
		&i.CrmOpportunity.ContactID,
		&i.CrmOpportunity.CompanyID,
		&i.CrmOpportunity.CampaignID,
		&i.CrmOpportunity.CreatedAt,
		&i.CrmOpportunity.UpdatedAt,
	)
	return i, err
}

const crmInsertLead = `-- name: CrmInsertLead :one
insert into "crm"."leads"(name, email, lead_source, status, lead_score, owner_id, campaign_id, converted_at, converted_contact_id, converted_company_id, converted_opportunity_id)
  values ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)
returning
  id, name, email, lead_source, status, lead_score, owner_id, campaign_id, converted_at, converted_contact_id, converted_company_id, converted_opportunity_id, created_at, updated_at
`

type CrmInsertLeadParams struct {
	Name                   string
	Email                  string
	LeadSource             NullCrmLeadSource
	Status                 NullCrmLeadStatus
	LeadScore              pgtype.Int4
	OwnerID                string
	CampaignID             pgtype.UUID
	ConvertedAt            pgtype.Timestamptz
	ConvertedContactID     pgtype.UUID
	ConvertedCompanyID     pgtype.UUID
	ConvertedOpportunityID pgtype.UUID
}

func (q *Queries) CrmInsertLead(ctx context.Context, arg CrmInsertLeadParams) (CrmLead, error) {
	row := q.db.QueryRow(ctx, crmInsertLead,
		arg.Name,
		arg.Email,
		arg.LeadSource,
		arg.Status,
		arg.LeadScore,
		arg.OwnerID,
		arg.CampaignID,
		arg.ConvertedAt,
		arg.ConvertedContactID,
		arg.ConvertedCompanyID,
		arg.ConvertedOpportunityID,
	)
	var i CrmLead
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Email,
		&i.LeadSource,
		&i.Status,
		&i.LeadScore,
		&i.OwnerID,
		&i.CampaignID,
		&i.ConvertedAt,
		&i.ConvertedContactID,
		&i.ConvertedCompanyID,
		&i.ConvertedOpportunityID,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const crmPaginateLead = `-- name: CrmPaginateLead :many
select
  leads.id, leads.name, leads.email, leads.lead_source, leads.status, leads.lead_score, leads.owner_id, leads.campaign_id, leads.converted_at, leads.converted_contact_id, leads.converted_company_id, leads.converted_opportunity_id, leads.created_at, leads.updated_at,
  owner.id, owner.name, owner.email, owner.email_verified, owner.image, owner.created_at, owner.updated_at, owner.role, owner.banned, owner.ban_reason, owner.ban_expires,
  campaign.id, campaign.name, campaign.budget, campaign.start_date, campaign.end_date, campaign.created_at, campaign.updated_at,
  converted_contact.id, converted_contact.name, converted_contact.email, converted_contact.phone_number, converted_contact.job_title, converted_contact.company_id, converted_contact.owner_id, converted_contact.created_at, converted_contact.updated_at,
  converted_company.id, converted_company.name, converted_company.street, converted_company.city, converted_company.state, converted_company.postal_code, converted_company.country, converted_company.phone_number, converted_company.industry, converted_company.website, converted_company.annual_revenue, converted_company.owner_id, converted_company.created_at, converted_company.updated_at,
  converted_opportunity.id, converted_opportunity.name, converted_opportunity.stage, converted_opportunity.deal_value, converted_opportunity.probability, converted_opportunity.expected_close_date, converted_opportunity.lost_reason, converted_opportunity.source, converted_opportunity.owner_id, converted_opportunity.contact_id, converted_opportunity.company_id, converted_opportunity.campaign_id, converted_opportunity.created_at, converted_opportunity.updated_at
from
  "crm"."leads" as leads
  inner join "public"."user" as owner on leads.owner_id = owner.id
  left join "crm"."campaigns" as campaign on leads.campaign_id = campaign.id
  left join "crm"."contacts" as converted_contact on leads.converted_contact_id = converted_contact.id
  left join "crm"."companies" as converted_company on leads.converted_company_id = converted_company.id
  left join "crm"."opportunities" as converted_opportunity on leads.converted_opportunity_id = converted_opportunity.id
where (leads.name ilike $1::text
  or leads.email ilike $1::text
  or leads.status::text ilike $1::text
  or leads.lead_source::text ilike $1::text
  or owner.name ilike $1::text
  or campaign.name ilike $1::text
  or $1::text is null)
limit $3::int offset ($2::int - 1) * $3::int
`

type CrmPaginateLeadParams struct {
	Search  pgtype.Text
	Page    int32
	Perpage int32
}

type CrmPaginateLeadRow struct {
	CrmLead        CrmLead
	User           User
	CrmCampaign    CrmCampaign
	CrmContact     CrmContact
	CrmCompany     CrmCompany
	CrmOpportunity CrmOpportunity
}

func (q *Queries) CrmPaginateLead(ctx context.Context, arg CrmPaginateLeadParams) ([]CrmPaginateLeadRow, error) {
	rows, err := q.db.Query(ctx, crmPaginateLead, arg.Search, arg.Page, arg.Perpage)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []CrmPaginateLeadRow
	for rows.Next() {
		var i CrmPaginateLeadRow
		if err := rows.Scan(
			&i.CrmLead.ID,
			&i.CrmLead.Name,
			&i.CrmLead.Email,
			&i.CrmLead.LeadSource,
			&i.CrmLead.Status,
			&i.CrmLead.LeadScore,
			&i.CrmLead.OwnerID,
			&i.CrmLead.CampaignID,
			&i.CrmLead.ConvertedAt,
			&i.CrmLead.ConvertedContactID,
			&i.CrmLead.ConvertedCompanyID,
			&i.CrmLead.ConvertedOpportunityID,
			&i.CrmLead.CreatedAt,
			&i.CrmLead.UpdatedAt,
			&i.User.ID,
			&i.User.Name,
			&i.User.Email,
			&i.User.EmailVerified,
			&i.User.Image,
			&i.User.CreatedAt,
			&i.User.UpdatedAt,
			&i.User.Role,
			&i.User.Banned,
			&i.User.BanReason,
			&i.User.BanExpires,
			&i.CrmCampaign.ID,
			&i.CrmCampaign.Name,
			&i.CrmCampaign.Budget,
			&i.CrmCampaign.StartDate,
			&i.CrmCampaign.EndDate,
			&i.CrmCampaign.CreatedAt,
			&i.CrmCampaign.UpdatedAt,
			&i.CrmContact.ID,
			&i.CrmContact.Name,
			&i.CrmContact.Email,
			&i.CrmContact.PhoneNumber,
			&i.CrmContact.JobTitle,
			&i.CrmContact.CompanyID,
			&i.CrmContact.OwnerID,
			&i.CrmContact.CreatedAt,
			&i.CrmContact.UpdatedAt,
			&i.CrmCompany.ID,
			&i.CrmCompany.Name,
			&i.CrmCompany.Street,
			&i.CrmCompany.City,
			&i.CrmCompany.State,
			&i.CrmCompany.PostalCode,
			&i.CrmCompany.Country,
			&i.CrmCompany.PhoneNumber,
			&i.CrmCompany.Industry,
			&i.CrmCompany.Website,
			&i.CrmCompany.AnnualRevenue,
			&i.CrmCompany.OwnerID,
			&i.CrmCompany.CreatedAt,
			&i.CrmCompany.UpdatedAt,
			&i.CrmOpportunity.ID,
			&i.CrmOpportunity.Name,
			&i.CrmOpportunity.Stage,
			&i.CrmOpportunity.DealValue,
			&i.CrmOpportunity.Probability,
			&i.CrmOpportunity.ExpectedCloseDate,
			&i.CrmOpportunity.LostReason,
			&i.CrmOpportunity.Source,
			&i.CrmOpportunity.OwnerID,
			&i.CrmOpportunity.ContactID,
			&i.CrmOpportunity.CompanyID,
			&i.CrmOpportunity.CampaignID,
			&i.CrmOpportunity.CreatedAt,
			&i.CrmOpportunity.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const crmRangeLead = `-- name: CrmRangeLead :many
select
  leads.id, leads.name, leads.email, leads.lead_source, leads.status, leads.lead_score, leads.owner_id, leads.campaign_id, leads.converted_at, leads.converted_contact_id, leads.converted_company_id, leads.converted_opportunity_id, leads.created_at, leads.updated_at,
  owner.id, owner.name, owner.email, owner.email_verified, owner.image, owner.created_at, owner.updated_at, owner.role, owner.banned, owner.ban_reason, owner.ban_expires,
  campaign.id, campaign.name, campaign.budget, campaign.start_date, campaign.end_date, campaign.created_at, campaign.updated_at,
  converted_contact.id, converted_contact.name, converted_contact.email, converted_contact.phone_number, converted_contact.job_title, converted_contact.company_id, converted_contact.owner_id, converted_contact.created_at, converted_contact.updated_at,
  converted_company.id, converted_company.name, converted_company.street, converted_company.city, converted_company.state, converted_company.postal_code, converted_company.country, converted_company.phone_number, converted_company.industry, converted_company.website, converted_company.annual_revenue, converted_company.owner_id, converted_company.created_at, converted_company.updated_at,
  converted_opportunity.id, converted_opportunity.name, converted_opportunity.stage, converted_opportunity.deal_value, converted_opportunity.probability, converted_opportunity.expected_close_date, converted_opportunity.lost_reason, converted_opportunity.source, converted_opportunity.owner_id, converted_opportunity.contact_id, converted_opportunity.company_id, converted_opportunity.campaign_id, converted_opportunity.created_at, converted_opportunity.updated_at
from
  "crm"."leads" as leads
  inner join "public"."user" as owner on leads.owner_id = owner.id
  left join "crm"."campaigns" as campaign on leads.campaign_id = campaign.id
  left join "crm"."contacts" as converted_contact on leads.converted_contact_id = converted_contact.id
  left join "crm"."companies" as converted_company on leads.converted_company_id = converted_company.id
  left join "crm"."opportunities" as converted_opportunity on leads.converted_opportunity_id = converted_opportunity.id
where
  leads.created_at >= $1::date
  and leads.created_at <= $2::date
  and (leads.name ilike $3::text
    or leads.email ilike $3::text
    or leads.status::text ilike $3::text
    or leads.lead_source::text ilike $3::text
    or owner.name ilike $3::text
    or campaign.name ilike $3::text
    or $3::text is null)
`

type CrmRangeLeadParams struct {
	Datefrom pgtype.Date
	Dateto   pgtype.Date
	Search   pgtype.Text
}

type CrmRangeLeadRow struct {
	CrmLead        CrmLead
	User           User
	CrmCampaign    CrmCampaign
	CrmContact     CrmContact
	CrmCompany     CrmCompany
	CrmOpportunity CrmOpportunity
}

func (q *Queries) CrmRangeLead(ctx context.Context, arg CrmRangeLeadParams) ([]CrmRangeLeadRow, error) {
	rows, err := q.db.Query(ctx, crmRangeLead, arg.Datefrom, arg.Dateto, arg.Search)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []CrmRangeLeadRow
	for rows.Next() {
		var i CrmRangeLeadRow
		if err := rows.Scan(
			&i.CrmLead.ID,
			&i.CrmLead.Name,
			&i.CrmLead.Email,
			&i.CrmLead.LeadSource,
			&i.CrmLead.Status,
			&i.CrmLead.LeadScore,
			&i.CrmLead.OwnerID,
			&i.CrmLead.CampaignID,
			&i.CrmLead.ConvertedAt,
			&i.CrmLead.ConvertedContactID,
			&i.CrmLead.ConvertedCompanyID,
			&i.CrmLead.ConvertedOpportunityID,
			&i.CrmLead.CreatedAt,
			&i.CrmLead.UpdatedAt,
			&i.User.ID,
			&i.User.Name,
			&i.User.Email,
			&i.User.EmailVerified,
			&i.User.Image,
			&i.User.CreatedAt,
			&i.User.UpdatedAt,
			&i.User.Role,
			&i.User.Banned,
			&i.User.BanReason,
			&i.User.BanExpires,
			&i.CrmCampaign.ID,
			&i.CrmCampaign.Name,
			&i.CrmCampaign.Budget,
			&i.CrmCampaign.StartDate,
			&i.CrmCampaign.EndDate,
			&i.CrmCampaign.CreatedAt,
			&i.CrmCampaign.UpdatedAt,
			&i.CrmContact.ID,
			&i.CrmContact.Name,
			&i.CrmContact.Email,
			&i.CrmContact.PhoneNumber,
			&i.CrmContact.JobTitle,
			&i.CrmContact.CompanyID,
			&i.CrmContact.OwnerID,
			&i.CrmContact.CreatedAt,
			&i.CrmContact.UpdatedAt,
			&i.CrmCompany.ID,
			&i.CrmCompany.Name,
			&i.CrmCompany.Street,
			&i.CrmCompany.City,
			&i.CrmCompany.State,
			&i.CrmCompany.PostalCode,
			&i.CrmCompany.Country,
			&i.CrmCompany.PhoneNumber,
			&i.CrmCompany.Industry,
			&i.CrmCompany.Website,
			&i.CrmCompany.AnnualRevenue,
			&i.CrmCompany.OwnerID,
			&i.CrmCompany.CreatedAt,
			&i.CrmCompany.UpdatedAt,
			&i.CrmOpportunity.ID,
			&i.CrmOpportunity.Name,
			&i.CrmOpportunity.Stage,
			&i.CrmOpportunity.DealValue,
			&i.CrmOpportunity.Probability,
			&i.CrmOpportunity.ExpectedCloseDate,
			&i.CrmOpportunity.LostReason,
			&i.CrmOpportunity.Source,
			&i.CrmOpportunity.OwnerID,
			&i.CrmOpportunity.ContactID,
			&i.CrmOpportunity.CompanyID,
			&i.CrmOpportunity.CampaignID,
			&i.CrmOpportunity.CreatedAt,
			&i.CrmOpportunity.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const crmRemoveLead = `-- name: CrmRemoveLead :exec
delete from "crm"."leads"
where id = $1::uuid
`

func (q *Queries) CrmRemoveLead(ctx context.Context, id pgtype.UUID) error {
	_, err := q.db.Exec(ctx, crmRemoveLead, id)
	return err
}

const crmUpdateLead = `-- name: CrmUpdateLead :one
update
  "crm"."leads"
set
  name = case when $1::boolean then
    $2::text
  else
    name
  end,
  email = case when $3::boolean then
    $4::text
  else
    email
  end,
  lead_source = case when $5::boolean then
    $6::crm.lead_source
  else
    lead_source
  end,
  status = case when $7::boolean then
    $8::crm.lead_status
  else
    status
  end,
  lead_score = case when $9::boolean then
    $10::integer
  else
    lead_score
  end,
  owner_id = case when $11::boolean then
    $12::text
  else
    owner_id
  end,
  campaign_id = case when $13::boolean then
    $14::uuid
  else
    campaign_id
  end,
  converted_at = case when $15::boolean then
    $16::timestamptz
  else
    converted_at
  end,
  converted_contact_id = case when $17::boolean then
    $18::uuid
  else
    converted_contact_id
  end,
  converted_company_id = case when $19::boolean then
    $20::uuid
  else
    converted_company_id
  end,
  converted_opportunity_id = case when $21::boolean then
    $22::uuid
  else
    converted_opportunity_id
  end
where
  id = $23::uuid
returning
  id, name, email, lead_source, status, lead_score, owner_id, campaign_id, converted_at, converted_contact_id, converted_company_id, converted_opportunity_id, created_at, updated_at
`

type CrmUpdateLeadParams struct {
	SetName                   bool
	Name                      string
	SetEmail                  bool
	Email                     string
	SetLeadSource             bool
	LeadSource                CrmLeadSource
	SetStatus                 bool
	Status                    CrmLeadStatus
	SetLeadScore              bool
	LeadScore                 int32
	SetOwnerID                bool
	OwnerID                   string
	SetCampaignID             bool
	CampaignID                pgtype.UUID
	SetConvertedAt            bool
	ConvertedAt               pgtype.Timestamptz
	SetConvertedContactID     bool
	ConvertedContactID        pgtype.UUID
	SetConvertedCompanyID     bool
	ConvertedCompanyID        pgtype.UUID
	SetConvertedOpportunityID bool
	ConvertedOpportunityID    pgtype.UUID
	ID                        pgtype.UUID
}

func (q *Queries) CrmUpdateLead(ctx context.Context, arg CrmUpdateLeadParams) (CrmLead, error) {
	row := q.db.QueryRow(ctx, crmUpdateLead,
		arg.SetName,
		arg.Name,
		arg.SetEmail,
		arg.Email,
		arg.SetLeadSource,
		arg.LeadSource,
		arg.SetStatus,
		arg.Status,
		arg.SetLeadScore,
		arg.LeadScore,
		arg.SetOwnerID,
		arg.OwnerID,
		arg.SetCampaignID,
		arg.CampaignID,
		arg.SetConvertedAt,
		arg.ConvertedAt,
		arg.SetConvertedContactID,
		arg.ConvertedContactID,
		arg.SetConvertedCompanyID,
		arg.ConvertedCompanyID,
		arg.SetConvertedOpportunityID,
		arg.ConvertedOpportunityID,
		arg.ID,
	)
	var i CrmLead
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Email,
		&i.LeadSource,
		&i.Status,
		&i.LeadScore,
		&i.OwnerID,
		&i.CampaignID,
		&i.ConvertedAt,
		&i.ConvertedContactID,
		&i.ConvertedCompanyID,
		&i.ConvertedOpportunityID,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}
