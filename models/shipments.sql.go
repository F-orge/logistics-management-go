// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: shipments.sql

package models

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const createShipment = `-- name: CreateShipment :one
insert into shipments ("order", tracking_number, carrier, status, estimated_delivery_date, actual_delivery_date, proof_of_delivery_image_url, driver, current_location_notes, department_assigned)
values ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)
returning id, "order", tracking_number, carrier, status, estimated_delivery_date, actual_delivery_date, proof_of_delivery_image_url, driver, current_location_notes, department_assigned, created, updated
`

type CreateShipmentParams struct {
	Order                   pgtype.UUID
	TrackingNumber          string
	Carrier                 pgtype.UUID
	Status                  string
	EstimatedDeliveryDate   pgtype.Timestamptz
	ActualDeliveryDate      pgtype.Timestamptz
	ProofOfDeliveryImageUrl []string
	Driver                  pgtype.UUID
	CurrentLocationNotes    pgtype.Text
	DepartmentAssigned      pgtype.UUID
}

func (q *Queries) CreateShipment(ctx context.Context, arg CreateShipmentParams) (Shipment, error) {
	row := q.db.QueryRow(ctx, createShipment,
		arg.Order,
		arg.TrackingNumber,
		arg.Carrier,
		arg.Status,
		arg.EstimatedDeliveryDate,
		arg.ActualDeliveryDate,
		arg.ProofOfDeliveryImageUrl,
		arg.Driver,
		arg.CurrentLocationNotes,
		arg.DepartmentAssigned,
	)
	var i Shipment
	err := row.Scan(
		&i.ID,
		&i.Order,
		&i.TrackingNumber,
		&i.Carrier,
		&i.Status,
		&i.EstimatedDeliveryDate,
		&i.ActualDeliveryDate,
		&i.ProofOfDeliveryImageUrl,
		&i.Driver,
		&i.CurrentLocationNotes,
		&i.DepartmentAssigned,
		&i.Created,
		&i.Updated,
	)
	return i, err
}

const deleteShipment = `-- name: DeleteShipment :one
delete from shipments where id = $1 returning id, "order", tracking_number, carrier, status, estimated_delivery_date, actual_delivery_date, proof_of_delivery_image_url, driver, current_location_notes, department_assigned, created, updated
`

func (q *Queries) DeleteShipment(ctx context.Context, id pgtype.UUID) (Shipment, error) {
	row := q.db.QueryRow(ctx, deleteShipment, id)
	var i Shipment
	err := row.Scan(
		&i.ID,
		&i.Order,
		&i.TrackingNumber,
		&i.Carrier,
		&i.Status,
		&i.EstimatedDeliveryDate,
		&i.ActualDeliveryDate,
		&i.ProofOfDeliveryImageUrl,
		&i.Driver,
		&i.CurrentLocationNotes,
		&i.DepartmentAssigned,
		&i.Created,
		&i.Updated,
	)
	return i, err
}

const getShipmentByID = `-- name: GetShipmentByID :one
select id, "order", tracking_number, carrier, status, estimated_delivery_date, actual_delivery_date, proof_of_delivery_image_url, driver, current_location_notes, department_assigned, created, updated from shipments where id = $1
`

func (q *Queries) GetShipmentByID(ctx context.Context, id pgtype.UUID) (Shipment, error) {
	row := q.db.QueryRow(ctx, getShipmentByID, id)
	var i Shipment
	err := row.Scan(
		&i.ID,
		&i.Order,
		&i.TrackingNumber,
		&i.Carrier,
		&i.Status,
		&i.EstimatedDeliveryDate,
		&i.ActualDeliveryDate,
		&i.ProofOfDeliveryImageUrl,
		&i.Driver,
		&i.CurrentLocationNotes,
		&i.DepartmentAssigned,
		&i.Created,
		&i.Updated,
	)
	return i, err
}

const getShipments = `-- name: GetShipments :many
select id, "order", tracking_number, carrier, status, estimated_delivery_date, actual_delivery_date, proof_of_delivery_image_url, driver, current_location_notes, department_assigned, created, updated from shipments order by created desc offset $1 limit $2
`

type GetShipmentsParams struct {
	Offset int32
	Limit  int32
}

func (q *Queries) GetShipments(ctx context.Context, arg GetShipmentsParams) ([]Shipment, error) {
	rows, err := q.db.Query(ctx, getShipments, arg.Offset, arg.Limit)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Shipment
	for rows.Next() {
		var i Shipment
		if err := rows.Scan(
			&i.ID,
			&i.Order,
			&i.TrackingNumber,
			&i.Carrier,
			&i.Status,
			&i.EstimatedDeliveryDate,
			&i.ActualDeliveryDate,
			&i.ProofOfDeliveryImageUrl,
			&i.Driver,
			&i.CurrentLocationNotes,
			&i.DepartmentAssigned,
			&i.Created,
			&i.Updated,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getShipmentsByCarrier = `-- name: GetShipmentsByCarrier :many
select id, "order", tracking_number, carrier, status, estimated_delivery_date, actual_delivery_date, proof_of_delivery_image_url, driver, current_location_notes, department_assigned, created, updated from shipments where carrier = $1 order by created desc offset $2 limit $3
`

type GetShipmentsByCarrierParams struct {
	Carrier pgtype.UUID
	Offset  int32
	Limit   int32
}

func (q *Queries) GetShipmentsByCarrier(ctx context.Context, arg GetShipmentsByCarrierParams) ([]Shipment, error) {
	rows, err := q.db.Query(ctx, getShipmentsByCarrier, arg.Carrier, arg.Offset, arg.Limit)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Shipment
	for rows.Next() {
		var i Shipment
		if err := rows.Scan(
			&i.ID,
			&i.Order,
			&i.TrackingNumber,
			&i.Carrier,
			&i.Status,
			&i.EstimatedDeliveryDate,
			&i.ActualDeliveryDate,
			&i.ProofOfDeliveryImageUrl,
			&i.Driver,
			&i.CurrentLocationNotes,
			&i.DepartmentAssigned,
			&i.Created,
			&i.Updated,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getShipmentsByDepartment = `-- name: GetShipmentsByDepartment :many
select id, "order", tracking_number, carrier, status, estimated_delivery_date, actual_delivery_date, proof_of_delivery_image_url, driver, current_location_notes, department_assigned, created, updated from shipments where department_assigned = $1 order by created desc offset $2 limit $3
`

type GetShipmentsByDepartmentParams struct {
	DepartmentAssigned pgtype.UUID
	Offset             int32
	Limit              int32
}

func (q *Queries) GetShipmentsByDepartment(ctx context.Context, arg GetShipmentsByDepartmentParams) ([]Shipment, error) {
	rows, err := q.db.Query(ctx, getShipmentsByDepartment, arg.DepartmentAssigned, arg.Offset, arg.Limit)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Shipment
	for rows.Next() {
		var i Shipment
		if err := rows.Scan(
			&i.ID,
			&i.Order,
			&i.TrackingNumber,
			&i.Carrier,
			&i.Status,
			&i.EstimatedDeliveryDate,
			&i.ActualDeliveryDate,
			&i.ProofOfDeliveryImageUrl,
			&i.Driver,
			&i.CurrentLocationNotes,
			&i.DepartmentAssigned,
			&i.Created,
			&i.Updated,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getShipmentsByDriver = `-- name: GetShipmentsByDriver :many
select id, "order", tracking_number, carrier, status, estimated_delivery_date, actual_delivery_date, proof_of_delivery_image_url, driver, current_location_notes, department_assigned, created, updated from shipments where driver = $1 order by created desc offset $2 limit $3
`

type GetShipmentsByDriverParams struct {
	Driver pgtype.UUID
	Offset int32
	Limit  int32
}

func (q *Queries) GetShipmentsByDriver(ctx context.Context, arg GetShipmentsByDriverParams) ([]Shipment, error) {
	rows, err := q.db.Query(ctx, getShipmentsByDriver, arg.Driver, arg.Offset, arg.Limit)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Shipment
	for rows.Next() {
		var i Shipment
		if err := rows.Scan(
			&i.ID,
			&i.Order,
			&i.TrackingNumber,
			&i.Carrier,
			&i.Status,
			&i.EstimatedDeliveryDate,
			&i.ActualDeliveryDate,
			&i.ProofOfDeliveryImageUrl,
			&i.Driver,
			&i.CurrentLocationNotes,
			&i.DepartmentAssigned,
			&i.Created,
			&i.Updated,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getShipmentsByOrder = `-- name: GetShipmentsByOrder :many
select id, "order", tracking_number, carrier, status, estimated_delivery_date, actual_delivery_date, proof_of_delivery_image_url, driver, current_location_notes, department_assigned, created, updated from shipments where "order" = $1 order by created desc offset $2 limit $3
`

type GetShipmentsByOrderParams struct {
	Order  pgtype.UUID
	Offset int32
	Limit  int32
}

func (q *Queries) GetShipmentsByOrder(ctx context.Context, arg GetShipmentsByOrderParams) ([]Shipment, error) {
	rows, err := q.db.Query(ctx, getShipmentsByOrder, arg.Order, arg.Offset, arg.Limit)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Shipment
	for rows.Next() {
		var i Shipment
		if err := rows.Scan(
			&i.ID,
			&i.Order,
			&i.TrackingNumber,
			&i.Carrier,
			&i.Status,
			&i.EstimatedDeliveryDate,
			&i.ActualDeliveryDate,
			&i.ProofOfDeliveryImageUrl,
			&i.Driver,
			&i.CurrentLocationNotes,
			&i.DepartmentAssigned,
			&i.Created,
			&i.Updated,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getShipmentsByStatus = `-- name: GetShipmentsByStatus :many
select id, "order", tracking_number, carrier, status, estimated_delivery_date, actual_delivery_date, proof_of_delivery_image_url, driver, current_location_notes, department_assigned, created, updated from shipments where status = $1 order by created desc offset $2 limit $3
`

type GetShipmentsByStatusParams struct {
	Status string
	Offset int32
	Limit  int32
}

func (q *Queries) GetShipmentsByStatus(ctx context.Context, arg GetShipmentsByStatusParams) ([]Shipment, error) {
	rows, err := q.db.Query(ctx, getShipmentsByStatus, arg.Status, arg.Offset, arg.Limit)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Shipment
	for rows.Next() {
		var i Shipment
		if err := rows.Scan(
			&i.ID,
			&i.Order,
			&i.TrackingNumber,
			&i.Carrier,
			&i.Status,
			&i.EstimatedDeliveryDate,
			&i.ActualDeliveryDate,
			&i.ProofOfDeliveryImageUrl,
			&i.Driver,
			&i.CurrentLocationNotes,
			&i.DepartmentAssigned,
			&i.Created,
			&i.Updated,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const searchShipments = `-- name: SearchShipments :many
select id, "order", tracking_number, carrier, status, estimated_delivery_date, actual_delivery_date, proof_of_delivery_image_url, driver, current_location_notes, department_assigned, created, updated from shipments where tracking_number ilike '%' || $1::text || '%' or status ilike '%' || $1::text || '%'
order by created desc offset $2::integer limit $3::integer
`

type SearchShipmentsParams struct {
	SearchText string
	Page       int32
	PerPage    int32
}

func (q *Queries) SearchShipments(ctx context.Context, arg SearchShipmentsParams) ([]Shipment, error) {
	rows, err := q.db.Query(ctx, searchShipments, arg.SearchText, arg.Page, arg.PerPage)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Shipment
	for rows.Next() {
		var i Shipment
		if err := rows.Scan(
			&i.ID,
			&i.Order,
			&i.TrackingNumber,
			&i.Carrier,
			&i.Status,
			&i.EstimatedDeliveryDate,
			&i.ActualDeliveryDate,
			&i.ProofOfDeliveryImageUrl,
			&i.Driver,
			&i.CurrentLocationNotes,
			&i.DepartmentAssigned,
			&i.Created,
			&i.Updated,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updateShipmentActualDeliveryDate = `-- name: UpdateShipmentActualDeliveryDate :one
update shipments set actual_delivery_date = $1 where id = $2 returning id, "order", tracking_number, carrier, status, estimated_delivery_date, actual_delivery_date, proof_of_delivery_image_url, driver, current_location_notes, department_assigned, created, updated
`

type UpdateShipmentActualDeliveryDateParams struct {
	ActualDeliveryDate pgtype.Timestamptz
	ID                 pgtype.UUID
}

func (q *Queries) UpdateShipmentActualDeliveryDate(ctx context.Context, arg UpdateShipmentActualDeliveryDateParams) (Shipment, error) {
	row := q.db.QueryRow(ctx, updateShipmentActualDeliveryDate, arg.ActualDeliveryDate, arg.ID)
	var i Shipment
	err := row.Scan(
		&i.ID,
		&i.Order,
		&i.TrackingNumber,
		&i.Carrier,
		&i.Status,
		&i.EstimatedDeliveryDate,
		&i.ActualDeliveryDate,
		&i.ProofOfDeliveryImageUrl,
		&i.Driver,
		&i.CurrentLocationNotes,
		&i.DepartmentAssigned,
		&i.Created,
		&i.Updated,
	)
	return i, err
}

const updateShipmentCurrentLocationNotes = `-- name: UpdateShipmentCurrentLocationNotes :one
update shipments set current_location_notes = $1 where id = $2 returning id, "order", tracking_number, carrier, status, estimated_delivery_date, actual_delivery_date, proof_of_delivery_image_url, driver, current_location_notes, department_assigned, created, updated
`

type UpdateShipmentCurrentLocationNotesParams struct {
	CurrentLocationNotes pgtype.Text
	ID                   pgtype.UUID
}

func (q *Queries) UpdateShipmentCurrentLocationNotes(ctx context.Context, arg UpdateShipmentCurrentLocationNotesParams) (Shipment, error) {
	row := q.db.QueryRow(ctx, updateShipmentCurrentLocationNotes, arg.CurrentLocationNotes, arg.ID)
	var i Shipment
	err := row.Scan(
		&i.ID,
		&i.Order,
		&i.TrackingNumber,
		&i.Carrier,
		&i.Status,
		&i.EstimatedDeliveryDate,
		&i.ActualDeliveryDate,
		&i.ProofOfDeliveryImageUrl,
		&i.Driver,
		&i.CurrentLocationNotes,
		&i.DepartmentAssigned,
		&i.Created,
		&i.Updated,
	)
	return i, err
}

const updateShipmentDepartmentAssigned = `-- name: UpdateShipmentDepartmentAssigned :one
update shipments set department_assigned = $1 where id = $2 returning id, "order", tracking_number, carrier, status, estimated_delivery_date, actual_delivery_date, proof_of_delivery_image_url, driver, current_location_notes, department_assigned, created, updated
`

type UpdateShipmentDepartmentAssignedParams struct {
	DepartmentAssigned pgtype.UUID
	ID                 pgtype.UUID
}

func (q *Queries) UpdateShipmentDepartmentAssigned(ctx context.Context, arg UpdateShipmentDepartmentAssignedParams) (Shipment, error) {
	row := q.db.QueryRow(ctx, updateShipmentDepartmentAssigned, arg.DepartmentAssigned, arg.ID)
	var i Shipment
	err := row.Scan(
		&i.ID,
		&i.Order,
		&i.TrackingNumber,
		&i.Carrier,
		&i.Status,
		&i.EstimatedDeliveryDate,
		&i.ActualDeliveryDate,
		&i.ProofOfDeliveryImageUrl,
		&i.Driver,
		&i.CurrentLocationNotes,
		&i.DepartmentAssigned,
		&i.Created,
		&i.Updated,
	)
	return i, err
}

const updateShipmentEstimatedDeliveryDate = `-- name: UpdateShipmentEstimatedDeliveryDate :one
update shipments set estimated_delivery_date = $1 where id = $2 returning id, "order", tracking_number, carrier, status, estimated_delivery_date, actual_delivery_date, proof_of_delivery_image_url, driver, current_location_notes, department_assigned, created, updated
`

type UpdateShipmentEstimatedDeliveryDateParams struct {
	EstimatedDeliveryDate pgtype.Timestamptz
	ID                    pgtype.UUID
}

func (q *Queries) UpdateShipmentEstimatedDeliveryDate(ctx context.Context, arg UpdateShipmentEstimatedDeliveryDateParams) (Shipment, error) {
	row := q.db.QueryRow(ctx, updateShipmentEstimatedDeliveryDate, arg.EstimatedDeliveryDate, arg.ID)
	var i Shipment
	err := row.Scan(
		&i.ID,
		&i.Order,
		&i.TrackingNumber,
		&i.Carrier,
		&i.Status,
		&i.EstimatedDeliveryDate,
		&i.ActualDeliveryDate,
		&i.ProofOfDeliveryImageUrl,
		&i.Driver,
		&i.CurrentLocationNotes,
		&i.DepartmentAssigned,
		&i.Created,
		&i.Updated,
	)
	return i, err
}

const updateShipmentProofOfDeliveryImageURL = `-- name: UpdateShipmentProofOfDeliveryImageURL :one
update shipments set proof_of_delivery_image_url = $1 where id = $2 returning id, "order", tracking_number, carrier, status, estimated_delivery_date, actual_delivery_date, proof_of_delivery_image_url, driver, current_location_notes, department_assigned, created, updated
`

type UpdateShipmentProofOfDeliveryImageURLParams struct {
	ProofOfDeliveryImageUrl []string
	ID                      pgtype.UUID
}

func (q *Queries) UpdateShipmentProofOfDeliveryImageURL(ctx context.Context, arg UpdateShipmentProofOfDeliveryImageURLParams) (Shipment, error) {
	row := q.db.QueryRow(ctx, updateShipmentProofOfDeliveryImageURL, arg.ProofOfDeliveryImageUrl, arg.ID)
	var i Shipment
	err := row.Scan(
		&i.ID,
		&i.Order,
		&i.TrackingNumber,
		&i.Carrier,
		&i.Status,
		&i.EstimatedDeliveryDate,
		&i.ActualDeliveryDate,
		&i.ProofOfDeliveryImageUrl,
		&i.Driver,
		&i.CurrentLocationNotes,
		&i.DepartmentAssigned,
		&i.Created,
		&i.Updated,
	)
	return i, err
}

const updateShipmentStatus = `-- name: UpdateShipmentStatus :one
update shipments set status = $1 where id = $2 returning id, "order", tracking_number, carrier, status, estimated_delivery_date, actual_delivery_date, proof_of_delivery_image_url, driver, current_location_notes, department_assigned, created, updated
`

type UpdateShipmentStatusParams struct {
	Status string
	ID     pgtype.UUID
}

func (q *Queries) UpdateShipmentStatus(ctx context.Context, arg UpdateShipmentStatusParams) (Shipment, error) {
	row := q.db.QueryRow(ctx, updateShipmentStatus, arg.Status, arg.ID)
	var i Shipment
	err := row.Scan(
		&i.ID,
		&i.Order,
		&i.TrackingNumber,
		&i.Carrier,
		&i.Status,
		&i.EstimatedDeliveryDate,
		&i.ActualDeliveryDate,
		&i.ProofOfDeliveryImageUrl,
		&i.Driver,
		&i.CurrentLocationNotes,
		&i.DepartmentAssigned,
		&i.Created,
		&i.Updated,
	)
	return i, err
}
