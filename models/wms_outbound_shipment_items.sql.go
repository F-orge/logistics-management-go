// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: wms_outbound_shipment_items.sql

package models

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const wmsAnyOutboundShipmentItem = `-- name: WmsAnyOutboundShipmentItem :many
select
  outbound_shipment_items.id, outbound_shipment_items.outbound_shipment_id, outbound_shipment_items.sales_order_item_id, outbound_shipment_items.product_id, outbound_shipment_items.batch_id, outbound_shipment_items.quantity_shipped, outbound_shipment_items.created_at, outbound_shipment_items.updated_at,
  outbound_shipment.id, outbound_shipment.sales_order_id, outbound_shipment.warehouse_id, outbound_shipment.status, outbound_shipment.tracking_number, outbound_shipment.carrier, outbound_shipment.created_at, outbound_shipment.updated_at,
  sales_order_item.id, sales_order_item.sales_order_id, sales_order_item.product_id, sales_order_item.quantity_ordered, sales_order_item.created_at, sales_order_item.updated_at,
  product.id, product.name, product.sku, product.barcode, product.description, product.cost_price, product.length, product.width, product.height, product.volume, product.weight, product.status, product.supplier_id, product.client_id, product.created_at, product.updated_at,
  batch.id, batch.product_id, batch.batch_number, batch.expiration_date, batch.created_at, batch.updated_at
from
  "wms"."outbound_shipment_items" as outbound_shipment_items
  inner join "wms"."outbound_shipments" as outbound_shipment on outbound_shipment_items.outbound_shipment_id = outbound_shipment.id
  inner join "wms"."sales_order_items" as sales_order_item on outbound_shipment_items.sales_order_item_id = sales_order_item.id
  inner join "wms"."products" as product on outbound_shipment_items.product_id = product.id
  left join "wms"."inventory_batches" as batch on outbound_shipment_items.batch_id = batch.id
where
  outbound_shipment_items.id = any ($1::uuid[])
`

type WmsAnyOutboundShipmentItemRow struct {
	WmsOutboundShipmentItem WmsOutboundShipmentItem
	WmsOutboundShipment     WmsOutboundShipment
	WmsSalesOrderItem       WmsSalesOrderItem
	WmsProduct              WmsProduct
	WmsInventoryBatch       WmsInventoryBatch
}

func (q *Queries) WmsAnyOutboundShipmentItem(ctx context.Context, ids []pgtype.UUID) ([]WmsAnyOutboundShipmentItemRow, error) {
	rows, err := q.db.Query(ctx, wmsAnyOutboundShipmentItem, ids)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []WmsAnyOutboundShipmentItemRow
	for rows.Next() {
		var i WmsAnyOutboundShipmentItemRow
		if err := rows.Scan(
			&i.WmsOutboundShipmentItem.ID,
			&i.WmsOutboundShipmentItem.OutboundShipmentID,
			&i.WmsOutboundShipmentItem.SalesOrderItemID,
			&i.WmsOutboundShipmentItem.ProductID,
			&i.WmsOutboundShipmentItem.BatchID,
			&i.WmsOutboundShipmentItem.QuantityShipped,
			&i.WmsOutboundShipmentItem.CreatedAt,
			&i.WmsOutboundShipmentItem.UpdatedAt,
			&i.WmsOutboundShipment.ID,
			&i.WmsOutboundShipment.SalesOrderID,
			&i.WmsOutboundShipment.WarehouseID,
			&i.WmsOutboundShipment.Status,
			&i.WmsOutboundShipment.TrackingNumber,
			&i.WmsOutboundShipment.Carrier,
			&i.WmsOutboundShipment.CreatedAt,
			&i.WmsOutboundShipment.UpdatedAt,
			&i.WmsSalesOrderItem.ID,
			&i.WmsSalesOrderItem.SalesOrderID,
			&i.WmsSalesOrderItem.ProductID,
			&i.WmsSalesOrderItem.QuantityOrdered,
			&i.WmsSalesOrderItem.CreatedAt,
			&i.WmsSalesOrderItem.UpdatedAt,
			&i.WmsProduct.ID,
			&i.WmsProduct.Name,
			&i.WmsProduct.Sku,
			&i.WmsProduct.Barcode,
			&i.WmsProduct.Description,
			&i.WmsProduct.CostPrice,
			&i.WmsProduct.Length,
			&i.WmsProduct.Width,
			&i.WmsProduct.Height,
			&i.WmsProduct.Volume,
			&i.WmsProduct.Weight,
			&i.WmsProduct.Status,
			&i.WmsProduct.SupplierID,
			&i.WmsProduct.ClientID,
			&i.WmsProduct.CreatedAt,
			&i.WmsProduct.UpdatedAt,
			&i.WmsInventoryBatch.ID,
			&i.WmsInventoryBatch.ProductID,
			&i.WmsInventoryBatch.BatchNumber,
			&i.WmsInventoryBatch.ExpirationDate,
			&i.WmsInventoryBatch.CreatedAt,
			&i.WmsInventoryBatch.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const wmsFindOutboundShipmentItem = `-- name: WmsFindOutboundShipmentItem :one
select
  outbound_shipment_items.id, outbound_shipment_items.outbound_shipment_id, outbound_shipment_items.sales_order_item_id, outbound_shipment_items.product_id, outbound_shipment_items.batch_id, outbound_shipment_items.quantity_shipped, outbound_shipment_items.created_at, outbound_shipment_items.updated_at,
  outbound_shipment.id, outbound_shipment.sales_order_id, outbound_shipment.warehouse_id, outbound_shipment.status, outbound_shipment.tracking_number, outbound_shipment.carrier, outbound_shipment.created_at, outbound_shipment.updated_at,
  sales_order_item.id, sales_order_item.sales_order_id, sales_order_item.product_id, sales_order_item.quantity_ordered, sales_order_item.created_at, sales_order_item.updated_at,
  product.id, product.name, product.sku, product.barcode, product.description, product.cost_price, product.length, product.width, product.height, product.volume, product.weight, product.status, product.supplier_id, product.client_id, product.created_at, product.updated_at,
  batch.id, batch.product_id, batch.batch_number, batch.expiration_date, batch.created_at, batch.updated_at
from
  "wms"."outbound_shipment_items" as outbound_shipment_items
  inner join "wms"."outbound_shipments" as outbound_shipment on outbound_shipment_items.outbound_shipment_id = outbound_shipment.id
  inner join "wms"."sales_order_items" as sales_order_item on outbound_shipment_items.sales_order_item_id = sales_order_item.id
  inner join "wms"."products" as product on outbound_shipment_items.product_id = product.id
  left join "wms"."inventory_batches" as batch on outbound_shipment_items.batch_id = batch.id
where
  outbound_shipment_items.id = $1::uuid
`

type WmsFindOutboundShipmentItemRow struct {
	WmsOutboundShipmentItem WmsOutboundShipmentItem
	WmsOutboundShipment     WmsOutboundShipment
	WmsSalesOrderItem       WmsSalesOrderItem
	WmsProduct              WmsProduct
	WmsInventoryBatch       WmsInventoryBatch
}

func (q *Queries) WmsFindOutboundShipmentItem(ctx context.Context, id pgtype.UUID) (WmsFindOutboundShipmentItemRow, error) {
	row := q.db.QueryRow(ctx, wmsFindOutboundShipmentItem, id)
	var i WmsFindOutboundShipmentItemRow
	err := row.Scan(
		&i.WmsOutboundShipmentItem.ID,
		&i.WmsOutboundShipmentItem.OutboundShipmentID,
		&i.WmsOutboundShipmentItem.SalesOrderItemID,
		&i.WmsOutboundShipmentItem.ProductID,
		&i.WmsOutboundShipmentItem.BatchID,
		&i.WmsOutboundShipmentItem.QuantityShipped,
		&i.WmsOutboundShipmentItem.CreatedAt,
		&i.WmsOutboundShipmentItem.UpdatedAt,
		&i.WmsOutboundShipment.ID,
		&i.WmsOutboundShipment.SalesOrderID,
		&i.WmsOutboundShipment.WarehouseID,
		&i.WmsOutboundShipment.Status,
		&i.WmsOutboundShipment.TrackingNumber,
		&i.WmsOutboundShipment.Carrier,
		&i.WmsOutboundShipment.CreatedAt,
		&i.WmsOutboundShipment.UpdatedAt,
		&i.WmsSalesOrderItem.ID,
		&i.WmsSalesOrderItem.SalesOrderID,
		&i.WmsSalesOrderItem.ProductID,
		&i.WmsSalesOrderItem.QuantityOrdered,
		&i.WmsSalesOrderItem.CreatedAt,
		&i.WmsSalesOrderItem.UpdatedAt,
		&i.WmsProduct.ID,
		&i.WmsProduct.Name,
		&i.WmsProduct.Sku,
		&i.WmsProduct.Barcode,
		&i.WmsProduct.Description,
		&i.WmsProduct.CostPrice,
		&i.WmsProduct.Length,
		&i.WmsProduct.Width,
		&i.WmsProduct.Height,
		&i.WmsProduct.Volume,
		&i.WmsProduct.Weight,
		&i.WmsProduct.Status,
		&i.WmsProduct.SupplierID,
		&i.WmsProduct.ClientID,
		&i.WmsProduct.CreatedAt,
		&i.WmsProduct.UpdatedAt,
		&i.WmsInventoryBatch.ID,
		&i.WmsInventoryBatch.ProductID,
		&i.WmsInventoryBatch.BatchNumber,
		&i.WmsInventoryBatch.ExpirationDate,
		&i.WmsInventoryBatch.CreatedAt,
		&i.WmsInventoryBatch.UpdatedAt,
	)
	return i, err
}

const wmsInsertOutboundShipmentItem = `-- name: WmsInsertOutboundShipmentItem :one
insert into "wms"."outbound_shipment_items"(outbound_shipment_id, sales_order_item_id, product_id, batch_id, quantity_shipped)
  values ($1, $2, $3, $4, $5)
returning
  id, outbound_shipment_id, sales_order_item_id, product_id, batch_id, quantity_shipped, created_at, updated_at
`

type WmsInsertOutboundShipmentItemParams struct {
	OutboundShipmentID pgtype.UUID
	SalesOrderItemID   pgtype.UUID
	ProductID          pgtype.UUID
	BatchID            pgtype.UUID
	QuantityShipped    int32
}

func (q *Queries) WmsInsertOutboundShipmentItem(ctx context.Context, arg WmsInsertOutboundShipmentItemParams) (WmsOutboundShipmentItem, error) {
	row := q.db.QueryRow(ctx, wmsInsertOutboundShipmentItem,
		arg.OutboundShipmentID,
		arg.SalesOrderItemID,
		arg.ProductID,
		arg.BatchID,
		arg.QuantityShipped,
	)
	var i WmsOutboundShipmentItem
	err := row.Scan(
		&i.ID,
		&i.OutboundShipmentID,
		&i.SalesOrderItemID,
		&i.ProductID,
		&i.BatchID,
		&i.QuantityShipped,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const wmsPaginateOutboundShipmentItem = `-- name: WmsPaginateOutboundShipmentItem :many
select
  outbound_shipment_items.id, outbound_shipment_items.outbound_shipment_id, outbound_shipment_items.sales_order_item_id, outbound_shipment_items.product_id, outbound_shipment_items.batch_id, outbound_shipment_items.quantity_shipped, outbound_shipment_items.created_at, outbound_shipment_items.updated_at,
  outbound_shipment.id, outbound_shipment.sales_order_id, outbound_shipment.warehouse_id, outbound_shipment.status, outbound_shipment.tracking_number, outbound_shipment.carrier, outbound_shipment.created_at, outbound_shipment.updated_at,
  sales_order_item.id, sales_order_item.sales_order_id, sales_order_item.product_id, sales_order_item.quantity_ordered, sales_order_item.created_at, sales_order_item.updated_at,
  product.id, product.name, product.sku, product.barcode, product.description, product.cost_price, product.length, product.width, product.height, product.volume, product.weight, product.status, product.supplier_id, product.client_id, product.created_at, product.updated_at,
  batch.id, batch.product_id, batch.batch_number, batch.expiration_date, batch.created_at, batch.updated_at
from
  "wms"."outbound_shipment_items" as outbound_shipment_items
  inner join "wms"."outbound_shipments" as outbound_shipment on outbound_shipment_items.outbound_shipment_id = outbound_shipment.id
  inner join "wms"."sales_order_items" as sales_order_item on outbound_shipment_items.sales_order_item_id = sales_order_item.id
  inner join "wms"."products" as product on outbound_shipment_items.product_id = product.id
  left join "wms"."inventory_batches" as batch on outbound_shipment_items.batch_id = batch.id
where
  (outbound_shipment.tracking_number ilike $1::text
  or product.name ilike $1::text
  or batch.batch_number ilike $1::text
  or $1::text is null)
limit $3::int offset ($2::int - 1) * $3::int
`

type WmsPaginateOutboundShipmentItemParams struct {
	Search  pgtype.Text
	Page    int32
	Perpage int32
}

type WmsPaginateOutboundShipmentItemRow struct {
	WmsOutboundShipmentItem WmsOutboundShipmentItem
	WmsOutboundShipment     WmsOutboundShipment
	WmsSalesOrderItem       WmsSalesOrderItem
	WmsProduct              WmsProduct
	WmsInventoryBatch       WmsInventoryBatch
}

func (q *Queries) WmsPaginateOutboundShipmentItem(ctx context.Context, arg WmsPaginateOutboundShipmentItemParams) ([]WmsPaginateOutboundShipmentItemRow, error) {
	rows, err := q.db.Query(ctx, wmsPaginateOutboundShipmentItem, arg.Search, arg.Page, arg.Perpage)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []WmsPaginateOutboundShipmentItemRow
	for rows.Next() {
		var i WmsPaginateOutboundShipmentItemRow
		if err := rows.Scan(
			&i.WmsOutboundShipmentItem.ID,
			&i.WmsOutboundShipmentItem.OutboundShipmentID,
			&i.WmsOutboundShipmentItem.SalesOrderItemID,
			&i.WmsOutboundShipmentItem.ProductID,
			&i.WmsOutboundShipmentItem.BatchID,
			&i.WmsOutboundShipmentItem.QuantityShipped,
			&i.WmsOutboundShipmentItem.CreatedAt,
			&i.WmsOutboundShipmentItem.UpdatedAt,
			&i.WmsOutboundShipment.ID,
			&i.WmsOutboundShipment.SalesOrderID,
			&i.WmsOutboundShipment.WarehouseID,
			&i.WmsOutboundShipment.Status,
			&i.WmsOutboundShipment.TrackingNumber,
			&i.WmsOutboundShipment.Carrier,
			&i.WmsOutboundShipment.CreatedAt,
			&i.WmsOutboundShipment.UpdatedAt,
			&i.WmsSalesOrderItem.ID,
			&i.WmsSalesOrderItem.SalesOrderID,
			&i.WmsSalesOrderItem.ProductID,
			&i.WmsSalesOrderItem.QuantityOrdered,
			&i.WmsSalesOrderItem.CreatedAt,
			&i.WmsSalesOrderItem.UpdatedAt,
			&i.WmsProduct.ID,
			&i.WmsProduct.Name,
			&i.WmsProduct.Sku,
			&i.WmsProduct.Barcode,
			&i.WmsProduct.Description,
			&i.WmsProduct.CostPrice,
			&i.WmsProduct.Length,
			&i.WmsProduct.Width,
			&i.WmsProduct.Height,
			&i.WmsProduct.Volume,
			&i.WmsProduct.Weight,
			&i.WmsProduct.Status,
			&i.WmsProduct.SupplierID,
			&i.WmsProduct.ClientID,
			&i.WmsProduct.CreatedAt,
			&i.WmsProduct.UpdatedAt,
			&i.WmsInventoryBatch.ID,
			&i.WmsInventoryBatch.ProductID,
			&i.WmsInventoryBatch.BatchNumber,
			&i.WmsInventoryBatch.ExpirationDate,
			&i.WmsInventoryBatch.CreatedAt,
			&i.WmsInventoryBatch.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const wmsRangeOutboundShipmentItem = `-- name: WmsRangeOutboundShipmentItem :many
select
  outbound_shipment_items.id, outbound_shipment_items.outbound_shipment_id, outbound_shipment_items.sales_order_item_id, outbound_shipment_items.product_id, outbound_shipment_items.batch_id, outbound_shipment_items.quantity_shipped, outbound_shipment_items.created_at, outbound_shipment_items.updated_at,
  outbound_shipment.id, outbound_shipment.sales_order_id, outbound_shipment.warehouse_id, outbound_shipment.status, outbound_shipment.tracking_number, outbound_shipment.carrier, outbound_shipment.created_at, outbound_shipment.updated_at,
  sales_order_item.id, sales_order_item.sales_order_id, sales_order_item.product_id, sales_order_item.quantity_ordered, sales_order_item.created_at, sales_order_item.updated_at,
  product.id, product.name, product.sku, product.barcode, product.description, product.cost_price, product.length, product.width, product.height, product.volume, product.weight, product.status, product.supplier_id, product.client_id, product.created_at, product.updated_at,
  batch.id, batch.product_id, batch.batch_number, batch.expiration_date, batch.created_at, batch.updated_at
from
  "wms"."outbound_shipment_items" as outbound_shipment_items
  inner join "wms"."outbound_shipments" as outbound_shipment on outbound_shipment_items.outbound_shipment_id = outbound_shipment.id
  inner join "wms"."sales_order_items" as sales_order_item on outbound_shipment_items.sales_order_item_id = sales_order_item.id
  inner join "wms"."products" as product on outbound_shipment_items.product_id = product.id
  left join "wms"."inventory_batches" as batch on outbound_shipment_items.batch_id = batch.id
where
  outbound_shipment_items.created_at >= $1::date
  and outbound_shipment_items.created_at <= $2::date
  and (outbound_shipment.tracking_number ilike $3::text
  or product.name ilike $3::text
  or batch.batch_number ilike $3::text
  or $3::text is null)
`

type WmsRangeOutboundShipmentItemParams struct {
	Datefrom pgtype.Date
	Dateto   pgtype.Date
	Search   pgtype.Text
}

type WmsRangeOutboundShipmentItemRow struct {
	WmsOutboundShipmentItem WmsOutboundShipmentItem
	WmsOutboundShipment     WmsOutboundShipment
	WmsSalesOrderItem       WmsSalesOrderItem
	WmsProduct              WmsProduct
	WmsInventoryBatch       WmsInventoryBatch
}

func (q *Queries) WmsRangeOutboundShipmentItem(ctx context.Context, arg WmsRangeOutboundShipmentItemParams) ([]WmsRangeOutboundShipmentItemRow, error) {
	rows, err := q.db.Query(ctx, wmsRangeOutboundShipmentItem, arg.Datefrom, arg.Dateto, arg.Search)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []WmsRangeOutboundShipmentItemRow
	for rows.Next() {
		var i WmsRangeOutboundShipmentItemRow
		if err := rows.Scan(
			&i.WmsOutboundShipmentItem.ID,
			&i.WmsOutboundShipmentItem.OutboundShipmentID,
			&i.WmsOutboundShipmentItem.SalesOrderItemID,
			&i.WmsOutboundShipmentItem.ProductID,
			&i.WmsOutboundShipmentItem.BatchID,
			&i.WmsOutboundShipmentItem.QuantityShipped,
			&i.WmsOutboundShipmentItem.CreatedAt,
			&i.WmsOutboundShipmentItem.UpdatedAt,
			&i.WmsOutboundShipment.ID,
			&i.WmsOutboundShipment.SalesOrderID,
			&i.WmsOutboundShipment.WarehouseID,
			&i.WmsOutboundShipment.Status,
			&i.WmsOutboundShipment.TrackingNumber,
			&i.WmsOutboundShipment.Carrier,
			&i.WmsOutboundShipment.CreatedAt,
			&i.WmsOutboundShipment.UpdatedAt,
			&i.WmsSalesOrderItem.ID,
			&i.WmsSalesOrderItem.SalesOrderID,
			&i.WmsSalesOrderItem.ProductID,
			&i.WmsSalesOrderItem.QuantityOrdered,
			&i.WmsSalesOrderItem.CreatedAt,
			&i.WmsSalesOrderItem.UpdatedAt,
			&i.WmsProduct.ID,
			&i.WmsProduct.Name,
			&i.WmsProduct.Sku,
			&i.WmsProduct.Barcode,
			&i.WmsProduct.Description,
			&i.WmsProduct.CostPrice,
			&i.WmsProduct.Length,
			&i.WmsProduct.Width,
			&i.WmsProduct.Height,
			&i.WmsProduct.Volume,
			&i.WmsProduct.Weight,
			&i.WmsProduct.Status,
			&i.WmsProduct.SupplierID,
			&i.WmsProduct.ClientID,
			&i.WmsProduct.CreatedAt,
			&i.WmsProduct.UpdatedAt,
			&i.WmsInventoryBatch.ID,
			&i.WmsInventoryBatch.ProductID,
			&i.WmsInventoryBatch.BatchNumber,
			&i.WmsInventoryBatch.ExpirationDate,
			&i.WmsInventoryBatch.CreatedAt,
			&i.WmsInventoryBatch.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const wmsRemoveOutboundShipmentItem = `-- name: WmsRemoveOutboundShipmentItem :exec
delete from "wms"."outbound_shipment_items"
where id = $1::uuid
`

func (q *Queries) WmsRemoveOutboundShipmentItem(ctx context.Context, id pgtype.UUID) error {
	_, err := q.db.Exec(ctx, wmsRemoveOutboundShipmentItem, id)
	return err
}

const wmsUpdateOutboundShipmentItem = `-- name: WmsUpdateOutboundShipmentItem :one
update
  "wms"."outbound_shipment_items"
set
  updated_at = now(),
  outbound_shipment_id = case when $1::boolean then
    $2::uuid
  else
    outbound_shipment_id
  end,
  sales_order_item_id = case when $3::boolean then
    $4::uuid
  else
    sales_order_item_id
  end,
  product_id = case when $5::boolean then
    $6::uuid
  else
    product_id
  end,
  batch_id = case when $7::boolean then
    $8::uuid
  else
    batch_id
  end,
  quantity_shipped = case when $9::boolean then
    $10::integer
  else
    quantity_shipped
  end
where
  id = $11::uuid
returning
  id, outbound_shipment_id, sales_order_item_id, product_id, batch_id, quantity_shipped, created_at, updated_at
`

type WmsUpdateOutboundShipmentItemParams struct {
	SetOutboundShipmentID bool
	OutboundShipmentID    pgtype.UUID
	SetSalesOrderItemID   bool
	SalesOrderItemID      pgtype.UUID
	SetProductID          bool
	ProductID             pgtype.UUID
	SetBatchID            bool
	BatchID               pgtype.UUID
	SetQuantityShipped    bool
	QuantityShipped       int32
	ID                    pgtype.UUID
}

func (q *Queries) WmsUpdateOutboundShipmentItem(ctx context.Context, arg WmsUpdateOutboundShipmentItemParams) (WmsOutboundShipmentItem, error) {
	row := q.db.QueryRow(ctx, wmsUpdateOutboundShipmentItem,
		arg.SetOutboundShipmentID,
		arg.OutboundShipmentID,
		arg.SetSalesOrderItemID,
		arg.SalesOrderItemID,
		arg.SetProductID,
		arg.ProductID,
		arg.SetBatchID,
		arg.BatchID,
		arg.SetQuantityShipped,
		arg.QuantityShipped,
		arg.ID,
	)
	var i WmsOutboundShipmentItem
	err := row.Scan(
		&i.ID,
		&i.OutboundShipmentID,
		&i.SalesOrderItemID,
		&i.ProductID,
		&i.BatchID,
		&i.QuantityShipped,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}
