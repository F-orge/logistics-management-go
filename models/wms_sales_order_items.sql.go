// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: wms_sales_order_items.sql

package models

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const wmsAnySalesOrderItem = `-- name: WmsAnySalesOrderItem :many
select
  sales_order_items.id, sales_order_items.sales_order_id, sales_order_items.product_id, sales_order_items.quantity_ordered, sales_order_items.created_at, sales_order_items.updated_at,
  sales_order.id, sales_order.order_number, sales_order.client_id, sales_order.crm_opportunity_id, sales_order.status, sales_order.shipping_address, sales_order.created_at, sales_order.updated_at,
  product.id, product.name, product.sku, product.barcode, product.description, product.cost_price, product.length, product.width, product.height, product.volume, product.weight, product.status, product.supplier_id, product.client_id, product.created_at, product.updated_at
from
  "wms"."sales_order_items" as sales_order_items
  inner join "wms"."sales_orders" as sales_order on sales_order_items.sales_order_id = sales_order.id
  inner join "wms"."products" as product on sales_order_items.product_id = product.id
where
  sales_order_items.id = any ($1::uuid[])
`

type WmsAnySalesOrderItemRow struct {
	WmsSalesOrderItem WmsSalesOrderItem `db:"wms_sales_order_item" json:"wms_sales_order_item"`
	WmsSalesOrder     WmsSalesOrder     `db:"wms_sales_order" json:"wms_sales_order"`
	WmsProduct        WmsProduct        `db:"wms_product" json:"wms_product"`
}

func (q *Queries) WmsAnySalesOrderItem(ctx context.Context, ids []pgtype.UUID) ([]WmsAnySalesOrderItemRow, error) {
	rows, err := q.db.Query(ctx, wmsAnySalesOrderItem, ids)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []WmsAnySalesOrderItemRow
	for rows.Next() {
		var i WmsAnySalesOrderItemRow
		if err := rows.Scan(
			&i.WmsSalesOrderItem.ID,
			&i.WmsSalesOrderItem.SalesOrderID,
			&i.WmsSalesOrderItem.ProductID,
			&i.WmsSalesOrderItem.QuantityOrdered,
			&i.WmsSalesOrderItem.CreatedAt,
			&i.WmsSalesOrderItem.UpdatedAt,
			&i.WmsSalesOrder.ID,
			&i.WmsSalesOrder.OrderNumber,
			&i.WmsSalesOrder.ClientID,
			&i.WmsSalesOrder.CrmOpportunityID,
			&i.WmsSalesOrder.Status,
			&i.WmsSalesOrder.ShippingAddress,
			&i.WmsSalesOrder.CreatedAt,
			&i.WmsSalesOrder.UpdatedAt,
			&i.WmsProduct.ID,
			&i.WmsProduct.Name,
			&i.WmsProduct.Sku,
			&i.WmsProduct.Barcode,
			&i.WmsProduct.Description,
			&i.WmsProduct.CostPrice,
			&i.WmsProduct.Length,
			&i.WmsProduct.Width,
			&i.WmsProduct.Height,
			&i.WmsProduct.Volume,
			&i.WmsProduct.Weight,
			&i.WmsProduct.Status,
			&i.WmsProduct.SupplierID,
			&i.WmsProduct.ClientID,
			&i.WmsProduct.CreatedAt,
			&i.WmsProduct.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const wmsFindSalesOrderItem = `-- name: WmsFindSalesOrderItem :one
select
  sales_order_items.id, sales_order_items.sales_order_id, sales_order_items.product_id, sales_order_items.quantity_ordered, sales_order_items.created_at, sales_order_items.updated_at,
  sales_order.id, sales_order.order_number, sales_order.client_id, sales_order.crm_opportunity_id, sales_order.status, sales_order.shipping_address, sales_order.created_at, sales_order.updated_at,
  product.id, product.name, product.sku, product.barcode, product.description, product.cost_price, product.length, product.width, product.height, product.volume, product.weight, product.status, product.supplier_id, product.client_id, product.created_at, product.updated_at
from
  "wms"."sales_order_items" as sales_order_items
  inner join "wms"."sales_orders" as sales_order on sales_order_items.sales_order_id = sales_order.id
  inner join "wms"."products" as product on sales_order_items.product_id = product.id
where
  sales_order_items.id = $1::uuid
`

type WmsFindSalesOrderItemRow struct {
	WmsSalesOrderItem WmsSalesOrderItem `db:"wms_sales_order_item" json:"wms_sales_order_item"`
	WmsSalesOrder     WmsSalesOrder     `db:"wms_sales_order" json:"wms_sales_order"`
	WmsProduct        WmsProduct        `db:"wms_product" json:"wms_product"`
}

func (q *Queries) WmsFindSalesOrderItem(ctx context.Context, id pgtype.UUID) (WmsFindSalesOrderItemRow, error) {
	row := q.db.QueryRow(ctx, wmsFindSalesOrderItem, id)
	var i WmsFindSalesOrderItemRow
	err := row.Scan(
		&i.WmsSalesOrderItem.ID,
		&i.WmsSalesOrderItem.SalesOrderID,
		&i.WmsSalesOrderItem.ProductID,
		&i.WmsSalesOrderItem.QuantityOrdered,
		&i.WmsSalesOrderItem.CreatedAt,
		&i.WmsSalesOrderItem.UpdatedAt,
		&i.WmsSalesOrder.ID,
		&i.WmsSalesOrder.OrderNumber,
		&i.WmsSalesOrder.ClientID,
		&i.WmsSalesOrder.CrmOpportunityID,
		&i.WmsSalesOrder.Status,
		&i.WmsSalesOrder.ShippingAddress,
		&i.WmsSalesOrder.CreatedAt,
		&i.WmsSalesOrder.UpdatedAt,
		&i.WmsProduct.ID,
		&i.WmsProduct.Name,
		&i.WmsProduct.Sku,
		&i.WmsProduct.Barcode,
		&i.WmsProduct.Description,
		&i.WmsProduct.CostPrice,
		&i.WmsProduct.Length,
		&i.WmsProduct.Width,
		&i.WmsProduct.Height,
		&i.WmsProduct.Volume,
		&i.WmsProduct.Weight,
		&i.WmsProduct.Status,
		&i.WmsProduct.SupplierID,
		&i.WmsProduct.ClientID,
		&i.WmsProduct.CreatedAt,
		&i.WmsProduct.UpdatedAt,
	)
	return i, err
}

const wmsInsertSalesOrderItem = `-- name: WmsInsertSalesOrderItem :one
insert into "wms"."sales_order_items"(sales_order_id, product_id, quantity_ordered)
  values ($1, $2, $3)
returning
  id, sales_order_id, product_id, quantity_ordered, created_at, updated_at
`

type WmsInsertSalesOrderItemParams struct {
	SalesOrderID    pgtype.UUID `db:"sales_order_id" json:"sales_order_id"`
	ProductID       pgtype.UUID `db:"product_id" json:"product_id"`
	QuantityOrdered int32       `db:"quantity_ordered" json:"quantity_ordered"`
}

func (q *Queries) WmsInsertSalesOrderItem(ctx context.Context, arg WmsInsertSalesOrderItemParams) (WmsSalesOrderItem, error) {
	row := q.db.QueryRow(ctx, wmsInsertSalesOrderItem, arg.SalesOrderID, arg.ProductID, arg.QuantityOrdered)
	var i WmsSalesOrderItem
	err := row.Scan(
		&i.ID,
		&i.SalesOrderID,
		&i.ProductID,
		&i.QuantityOrdered,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const wmsPaginateSalesOrderItem = `-- name: WmsPaginateSalesOrderItem :many
select
  sales_order_items.id, sales_order_items.sales_order_id, sales_order_items.product_id, sales_order_items.quantity_ordered, sales_order_items.created_at, sales_order_items.updated_at,
  sales_order.id, sales_order.order_number, sales_order.client_id, sales_order.crm_opportunity_id, sales_order.status, sales_order.shipping_address, sales_order.created_at, sales_order.updated_at,
  product.id, product.name, product.sku, product.barcode, product.description, product.cost_price, product.length, product.width, product.height, product.volume, product.weight, product.status, product.supplier_id, product.client_id, product.created_at, product.updated_at
from
  "wms"."sales_order_items" as sales_order_items
  inner join "wms"."sales_orders" as sales_order on sales_order_items.sales_order_id = sales_order.id
  inner join "wms"."products" as product on sales_order_items.product_id = product.id
where (sales_order.order_number ilike $1::text
  or product.name ilike $1::text
  or $1::text is null)
limit $3::int offset ($2::int - 1) * $3::int
`

type WmsPaginateSalesOrderItemParams struct {
	Search  pgtype.Text `db:"search" json:"search"`
	Page    int32       `db:"page" json:"page"`
	PerPage int32       `db:"per_page" json:"per_page"`
}

type WmsPaginateSalesOrderItemRow struct {
	WmsSalesOrderItem WmsSalesOrderItem `db:"wms_sales_order_item" json:"wms_sales_order_item"`
	WmsSalesOrder     WmsSalesOrder     `db:"wms_sales_order" json:"wms_sales_order"`
	WmsProduct        WmsProduct        `db:"wms_product" json:"wms_product"`
}

func (q *Queries) WmsPaginateSalesOrderItem(ctx context.Context, arg WmsPaginateSalesOrderItemParams) ([]WmsPaginateSalesOrderItemRow, error) {
	rows, err := q.db.Query(ctx, wmsPaginateSalesOrderItem, arg.Search, arg.Page, arg.PerPage)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []WmsPaginateSalesOrderItemRow
	for rows.Next() {
		var i WmsPaginateSalesOrderItemRow
		if err := rows.Scan(
			&i.WmsSalesOrderItem.ID,
			&i.WmsSalesOrderItem.SalesOrderID,
			&i.WmsSalesOrderItem.ProductID,
			&i.WmsSalesOrderItem.QuantityOrdered,
			&i.WmsSalesOrderItem.CreatedAt,
			&i.WmsSalesOrderItem.UpdatedAt,
			&i.WmsSalesOrder.ID,
			&i.WmsSalesOrder.OrderNumber,
			&i.WmsSalesOrder.ClientID,
			&i.WmsSalesOrder.CrmOpportunityID,
			&i.WmsSalesOrder.Status,
			&i.WmsSalesOrder.ShippingAddress,
			&i.WmsSalesOrder.CreatedAt,
			&i.WmsSalesOrder.UpdatedAt,
			&i.WmsProduct.ID,
			&i.WmsProduct.Name,
			&i.WmsProduct.Sku,
			&i.WmsProduct.Barcode,
			&i.WmsProduct.Description,
			&i.WmsProduct.CostPrice,
			&i.WmsProduct.Length,
			&i.WmsProduct.Width,
			&i.WmsProduct.Height,
			&i.WmsProduct.Volume,
			&i.WmsProduct.Weight,
			&i.WmsProduct.Status,
			&i.WmsProduct.SupplierID,
			&i.WmsProduct.ClientID,
			&i.WmsProduct.CreatedAt,
			&i.WmsProduct.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const wmsRangeSalesOrderItem = `-- name: WmsRangeSalesOrderItem :many
select
  sales_order_items.id, sales_order_items.sales_order_id, sales_order_items.product_id, sales_order_items.quantity_ordered, sales_order_items.created_at, sales_order_items.updated_at,
  sales_order.id, sales_order.order_number, sales_order.client_id, sales_order.crm_opportunity_id, sales_order.status, sales_order.shipping_address, sales_order.created_at, sales_order.updated_at,
  product.id, product.name, product.sku, product.barcode, product.description, product.cost_price, product.length, product.width, product.height, product.volume, product.weight, product.status, product.supplier_id, product.client_id, product.created_at, product.updated_at
from
  "wms"."sales_order_items" as sales_order_items
  inner join "wms"."sales_orders" as sales_order on sales_order_items.sales_order_id = sales_order.id
  inner join "wms"."products" as product on sales_order_items.product_id = product.id
where
  sales_order_items.created_at >= $1::date
  and sales_order_items.created_at <= $2::date
  and (sales_order.order_number ilike $3::text
    or product.name ilike $3::text
    or $3::text is null)
`

type WmsRangeSalesOrderItemParams struct {
	Datefrom pgtype.Date `db:"datefrom" json:"datefrom"`
	Dateto   pgtype.Date `db:"dateto" json:"dateto"`
	Search   pgtype.Text `db:"search" json:"search"`
}

type WmsRangeSalesOrderItemRow struct {
	WmsSalesOrderItem WmsSalesOrderItem `db:"wms_sales_order_item" json:"wms_sales_order_item"`
	WmsSalesOrder     WmsSalesOrder     `db:"wms_sales_order" json:"wms_sales_order"`
	WmsProduct        WmsProduct        `db:"wms_product" json:"wms_product"`
}

func (q *Queries) WmsRangeSalesOrderItem(ctx context.Context, arg WmsRangeSalesOrderItemParams) ([]WmsRangeSalesOrderItemRow, error) {
	rows, err := q.db.Query(ctx, wmsRangeSalesOrderItem, arg.Datefrom, arg.Dateto, arg.Search)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []WmsRangeSalesOrderItemRow
	for rows.Next() {
		var i WmsRangeSalesOrderItemRow
		if err := rows.Scan(
			&i.WmsSalesOrderItem.ID,
			&i.WmsSalesOrderItem.SalesOrderID,
			&i.WmsSalesOrderItem.ProductID,
			&i.WmsSalesOrderItem.QuantityOrdered,
			&i.WmsSalesOrderItem.CreatedAt,
			&i.WmsSalesOrderItem.UpdatedAt,
			&i.WmsSalesOrder.ID,
			&i.WmsSalesOrder.OrderNumber,
			&i.WmsSalesOrder.ClientID,
			&i.WmsSalesOrder.CrmOpportunityID,
			&i.WmsSalesOrder.Status,
			&i.WmsSalesOrder.ShippingAddress,
			&i.WmsSalesOrder.CreatedAt,
			&i.WmsSalesOrder.UpdatedAt,
			&i.WmsProduct.ID,
			&i.WmsProduct.Name,
			&i.WmsProduct.Sku,
			&i.WmsProduct.Barcode,
			&i.WmsProduct.Description,
			&i.WmsProduct.CostPrice,
			&i.WmsProduct.Length,
			&i.WmsProduct.Width,
			&i.WmsProduct.Height,
			&i.WmsProduct.Volume,
			&i.WmsProduct.Weight,
			&i.WmsProduct.Status,
			&i.WmsProduct.SupplierID,
			&i.WmsProduct.ClientID,
			&i.WmsProduct.CreatedAt,
			&i.WmsProduct.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const wmsRemoveSalesOrderItem = `-- name: WmsRemoveSalesOrderItem :exec
delete from "wms"."sales_order_items"
where id = $1::uuid
`

func (q *Queries) WmsRemoveSalesOrderItem(ctx context.Context, id pgtype.UUID) error {
	_, err := q.db.Exec(ctx, wmsRemoveSalesOrderItem, id)
	return err
}

const wmsUpdateSalesOrderItem = `-- name: WmsUpdateSalesOrderItem :one
update
  "wms"."sales_order_items"
set
  updated_at = now(),
  sales_order_id = case when $1 is not null then
    $1::uuid
  else
    sales_order_id
  end,
  product_id = case when $2 is not null then
    $2::uuid
  else
    product_id
  end,
  quantity_ordered = case when $3 is not null then
    $3::integer
  else
    quantity_ordered
  end
where
  id = $4::uuid
returning
  id, sales_order_id, product_id, quantity_ordered, created_at, updated_at
`

type WmsUpdateSalesOrderItemParams struct {
	SalesOrderID    pgtype.UUID `db:"sales_order_id" json:"sales_order_id"`
	ProductID       pgtype.UUID `db:"product_id" json:"product_id"`
	QuantityOrdered int32       `db:"quantity_ordered" json:"quantity_ordered"`
	ID              pgtype.UUID `db:"id" json:"id"`
}

func (q *Queries) WmsUpdateSalesOrderItem(ctx context.Context, arg WmsUpdateSalesOrderItemParams) (WmsSalesOrderItem, error) {
	row := q.db.QueryRow(ctx, wmsUpdateSalesOrderItem,
		arg.SalesOrderID,
		arg.ProductID,
		arg.QuantityOrdered,
		arg.ID,
	)
	var i WmsSalesOrderItem
	err := row.Scan(
		&i.ID,
		&i.SalesOrderID,
		&i.ProductID,
		&i.QuantityOrdered,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}
