// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: wms_inbound_shipment_items.sql

package models

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const wmsAnyInboundShipmentItem = `-- name: WmsAnyInboundShipmentItem :many
select
  inbound_shipment_items.id, inbound_shipment_items.inbound_shipment_id, inbound_shipment_items.product_id, inbound_shipment_items.expected_quantity, inbound_shipment_items.received_quantity, inbound_shipment_items.discrepancy_quantity, inbound_shipment_items.discrepancy_notes, inbound_shipment_items.created_at, inbound_shipment_items.updated_at,
  inbound_shipment.id, inbound_shipment.client_id, inbound_shipment.warehouse_id, inbound_shipment.status, inbound_shipment.expected_arrival_date, inbound_shipment.actual_arrival_date, inbound_shipment.created_at, inbound_shipment.updated_at,
  product.id, product.name, product.sku, product.barcode, product.description, product.cost_price, product.length, product.width, product.height, product.volume, product.weight, product.status, product.supplier_id, product.client_id, product.created_at, product.updated_at
from
  "wms"."inbound_shipment_items" as inbound_shipment_items
  inner join "wms"."inbound_shipments" as inbound_shipment on inbound_shipment_items.inbound_shipment_id = inbound_shipment.id
  inner join "wms"."products" as product on inbound_shipment_items.product_id = product.id
where
  inbound_shipment_items.id = any ($1::uuid[])
`

type WmsAnyInboundShipmentItemRow struct {
	WmsInboundShipmentItem WmsInboundShipmentItem
	WmsInboundShipment     WmsInboundShipment
	WmsProduct             WmsProduct
}

func (q *Queries) WmsAnyInboundShipmentItem(ctx context.Context, ids []pgtype.UUID) ([]WmsAnyInboundShipmentItemRow, error) {
	rows, err := q.db.Query(ctx, wmsAnyInboundShipmentItem, ids)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []WmsAnyInboundShipmentItemRow
	for rows.Next() {
		var i WmsAnyInboundShipmentItemRow
		if err := rows.Scan(
			&i.WmsInboundShipmentItem.ID,
			&i.WmsInboundShipmentItem.InboundShipmentID,
			&i.WmsInboundShipmentItem.ProductID,
			&i.WmsInboundShipmentItem.ExpectedQuantity,
			&i.WmsInboundShipmentItem.ReceivedQuantity,
			&i.WmsInboundShipmentItem.DiscrepancyQuantity,
			&i.WmsInboundShipmentItem.DiscrepancyNotes,
			&i.WmsInboundShipmentItem.CreatedAt,
			&i.WmsInboundShipmentItem.UpdatedAt,
			&i.WmsInboundShipment.ID,
			&i.WmsInboundShipment.ClientID,
			&i.WmsInboundShipment.WarehouseID,
			&i.WmsInboundShipment.Status,
			&i.WmsInboundShipment.ExpectedArrivalDate,
			&i.WmsInboundShipment.ActualArrivalDate,
			&i.WmsInboundShipment.CreatedAt,
			&i.WmsInboundShipment.UpdatedAt,
			&i.WmsProduct.ID,
			&i.WmsProduct.Name,
			&i.WmsProduct.Sku,
			&i.WmsProduct.Barcode,
			&i.WmsProduct.Description,
			&i.WmsProduct.CostPrice,
			&i.WmsProduct.Length,
			&i.WmsProduct.Width,
			&i.WmsProduct.Height,
			&i.WmsProduct.Volume,
			&i.WmsProduct.Weight,
			&i.WmsProduct.Status,
			&i.WmsProduct.SupplierID,
			&i.WmsProduct.ClientID,
			&i.WmsProduct.CreatedAt,
			&i.WmsProduct.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const wmsFindInboundShipmentItem = `-- name: WmsFindInboundShipmentItem :one
select
  inbound_shipment_items.id, inbound_shipment_items.inbound_shipment_id, inbound_shipment_items.product_id, inbound_shipment_items.expected_quantity, inbound_shipment_items.received_quantity, inbound_shipment_items.discrepancy_quantity, inbound_shipment_items.discrepancy_notes, inbound_shipment_items.created_at, inbound_shipment_items.updated_at,
  inbound_shipment.id, inbound_shipment.client_id, inbound_shipment.warehouse_id, inbound_shipment.status, inbound_shipment.expected_arrival_date, inbound_shipment.actual_arrival_date, inbound_shipment.created_at, inbound_shipment.updated_at,
  product.id, product.name, product.sku, product.barcode, product.description, product.cost_price, product.length, product.width, product.height, product.volume, product.weight, product.status, product.supplier_id, product.client_id, product.created_at, product.updated_at
from
  "wms"."inbound_shipment_items" as inbound_shipment_items
  inner join "wms"."inbound_shipments" as inbound_shipment on inbound_shipment_items.inbound_shipment_id = inbound_shipment.id
  inner join "wms"."products" as product on inbound_shipment_items.product_id = product.id
where
  inbound_shipment_items.id = $1::uuid
`

type WmsFindInboundShipmentItemRow struct {
	WmsInboundShipmentItem WmsInboundShipmentItem
	WmsInboundShipment     WmsInboundShipment
	WmsProduct             WmsProduct
}

func (q *Queries) WmsFindInboundShipmentItem(ctx context.Context, id pgtype.UUID) (WmsFindInboundShipmentItemRow, error) {
	row := q.db.QueryRow(ctx, wmsFindInboundShipmentItem, id)
	var i WmsFindInboundShipmentItemRow
	err := row.Scan(
		&i.WmsInboundShipmentItem.ID,
		&i.WmsInboundShipmentItem.InboundShipmentID,
		&i.WmsInboundShipmentItem.ProductID,
		&i.WmsInboundShipmentItem.ExpectedQuantity,
		&i.WmsInboundShipmentItem.ReceivedQuantity,
		&i.WmsInboundShipmentItem.DiscrepancyQuantity,
		&i.WmsInboundShipmentItem.DiscrepancyNotes,
		&i.WmsInboundShipmentItem.CreatedAt,
		&i.WmsInboundShipmentItem.UpdatedAt,
		&i.WmsInboundShipment.ID,
		&i.WmsInboundShipment.ClientID,
		&i.WmsInboundShipment.WarehouseID,
		&i.WmsInboundShipment.Status,
		&i.WmsInboundShipment.ExpectedArrivalDate,
		&i.WmsInboundShipment.ActualArrivalDate,
		&i.WmsInboundShipment.CreatedAt,
		&i.WmsInboundShipment.UpdatedAt,
		&i.WmsProduct.ID,
		&i.WmsProduct.Name,
		&i.WmsProduct.Sku,
		&i.WmsProduct.Barcode,
		&i.WmsProduct.Description,
		&i.WmsProduct.CostPrice,
		&i.WmsProduct.Length,
		&i.WmsProduct.Width,
		&i.WmsProduct.Height,
		&i.WmsProduct.Volume,
		&i.WmsProduct.Weight,
		&i.WmsProduct.Status,
		&i.WmsProduct.SupplierID,
		&i.WmsProduct.ClientID,
		&i.WmsProduct.CreatedAt,
		&i.WmsProduct.UpdatedAt,
	)
	return i, err
}

const wmsInsertInboundShipmentItem = `-- name: WmsInsertInboundShipmentItem :one
insert into "wms"."inbound_shipment_items"(inbound_shipment_id, product_id, expected_quantity, received_quantity, discrepancy_notes)
  values ($1, $2, $3, $4, $5)
returning
  id, inbound_shipment_id, product_id, expected_quantity, received_quantity, discrepancy_quantity, discrepancy_notes, created_at, updated_at
`

type WmsInsertInboundShipmentItemParams struct {
	InboundShipmentID pgtype.UUID
	ProductID         pgtype.UUID
	ExpectedQuantity  int32
	ReceivedQuantity  pgtype.Int4
	DiscrepancyNotes  pgtype.Text
}

func (q *Queries) WmsInsertInboundShipmentItem(ctx context.Context, arg WmsInsertInboundShipmentItemParams) (WmsInboundShipmentItem, error) {
	row := q.db.QueryRow(ctx, wmsInsertInboundShipmentItem,
		arg.InboundShipmentID,
		arg.ProductID,
		arg.ExpectedQuantity,
		arg.ReceivedQuantity,
		arg.DiscrepancyNotes,
	)
	var i WmsInboundShipmentItem
	err := row.Scan(
		&i.ID,
		&i.InboundShipmentID,
		&i.ProductID,
		&i.ExpectedQuantity,
		&i.ReceivedQuantity,
		&i.DiscrepancyQuantity,
		&i.DiscrepancyNotes,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const wmsPaginateInboundShipmentItem = `-- name: WmsPaginateInboundShipmentItem :many
select
  inbound_shipment_items.id, inbound_shipment_items.inbound_shipment_id, inbound_shipment_items.product_id, inbound_shipment_items.expected_quantity, inbound_shipment_items.received_quantity, inbound_shipment_items.discrepancy_quantity, inbound_shipment_items.discrepancy_notes, inbound_shipment_items.created_at, inbound_shipment_items.updated_at,
  inbound_shipment.id, inbound_shipment.client_id, inbound_shipment.warehouse_id, inbound_shipment.status, inbound_shipment.expected_arrival_date, inbound_shipment.actual_arrival_date, inbound_shipment.created_at, inbound_shipment.updated_at,
  product.id, product.name, product.sku, product.barcode, product.description, product.cost_price, product.length, product.width, product.height, product.volume, product.weight, product.status, product.supplier_id, product.client_id, product.created_at, product.updated_at
from
  "wms"."inbound_shipment_items" as inbound_shipment_items
  inner join "wms"."inbound_shipments" as inbound_shipment on inbound_shipment_items.inbound_shipment_id = inbound_shipment.id
  inner join "wms"."products" as product on inbound_shipment_items.product_id = product.id
where
  (inbound_shipment.status::text ilike $1::text
  or product.name ilike $1::text
  or $1::text is null)
limit $3::int offset ($2::int - 1) * $3::int
`

type WmsPaginateInboundShipmentItemParams struct {
	Search  pgtype.Text
	Page    int32
	Perpage int32
}

type WmsPaginateInboundShipmentItemRow struct {
	WmsInboundShipmentItem WmsInboundShipmentItem
	WmsInboundShipment     WmsInboundShipment
	WmsProduct             WmsProduct
}

func (q *Queries) WmsPaginateInboundShipmentItem(ctx context.Context, arg WmsPaginateInboundShipmentItemParams) ([]WmsPaginateInboundShipmentItemRow, error) {
	rows, err := q.db.Query(ctx, wmsPaginateInboundShipmentItem, arg.Search, arg.Page, arg.Perpage)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []WmsPaginateInboundShipmentItemRow
	for rows.Next() {
		var i WmsPaginateInboundShipmentItemRow
		if err := rows.Scan(
			&i.WmsInboundShipmentItem.ID,
			&i.WmsInboundShipmentItem.InboundShipmentID,
			&i.WmsInboundShipmentItem.ProductID,
			&i.WmsInboundShipmentItem.ExpectedQuantity,
			&i.WmsInboundShipmentItem.ReceivedQuantity,
			&i.WmsInboundShipmentItem.DiscrepancyQuantity,
			&i.WmsInboundShipmentItem.DiscrepancyNotes,
			&i.WmsInboundShipmentItem.CreatedAt,
			&i.WmsInboundShipmentItem.UpdatedAt,
			&i.WmsInboundShipment.ID,
			&i.WmsInboundShipment.ClientID,
			&i.WmsInboundShipment.WarehouseID,
			&i.WmsInboundShipment.Status,
			&i.WmsInboundShipment.ExpectedArrivalDate,
			&i.WmsInboundShipment.ActualArrivalDate,
			&i.WmsInboundShipment.CreatedAt,
			&i.WmsInboundShipment.UpdatedAt,
			&i.WmsProduct.ID,
			&i.WmsProduct.Name,
			&i.WmsProduct.Sku,
			&i.WmsProduct.Barcode,
			&i.WmsProduct.Description,
			&i.WmsProduct.CostPrice,
			&i.WmsProduct.Length,
			&i.WmsProduct.Width,
			&i.WmsProduct.Height,
			&i.WmsProduct.Volume,
			&i.WmsProduct.Weight,
			&i.WmsProduct.Status,
			&i.WmsProduct.SupplierID,
			&i.WmsProduct.ClientID,
			&i.WmsProduct.CreatedAt,
			&i.WmsProduct.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const wmsRangeInboundShipmentItem = `-- name: WmsRangeInboundShipmentItem :many
select
  inbound_shipment_items.id, inbound_shipment_items.inbound_shipment_id, inbound_shipment_items.product_id, inbound_shipment_items.expected_quantity, inbound_shipment_items.received_quantity, inbound_shipment_items.discrepancy_quantity, inbound_shipment_items.discrepancy_notes, inbound_shipment_items.created_at, inbound_shipment_items.updated_at,
  inbound_shipment.id, inbound_shipment.client_id, inbound_shipment.warehouse_id, inbound_shipment.status, inbound_shipment.expected_arrival_date, inbound_shipment.actual_arrival_date, inbound_shipment.created_at, inbound_shipment.updated_at,
  product.id, product.name, product.sku, product.barcode, product.description, product.cost_price, product.length, product.width, product.height, product.volume, product.weight, product.status, product.supplier_id, product.client_id, product.created_at, product.updated_at
from
  "wms"."inbound_shipment_items" as inbound_shipment_items
  inner join "wms"."inbound_shipments" as inbound_shipment on inbound_shipment_items.inbound_shipment_id = inbound_shipment.id
  inner join "wms"."products" as product on inbound_shipment_items.product_id = product.id
where
  inbound_shipment_items.created_at >= $1::date
  and inbound_shipment_items.created_at <= $2::date
  and (inbound_shipment.status::text ilike $3::text
  or product.name ilike $3::text
  or $3::text is null)
`

type WmsRangeInboundShipmentItemParams struct {
	Datefrom pgtype.Date
	Dateto   pgtype.Date
	Search   pgtype.Text
}

type WmsRangeInboundShipmentItemRow struct {
	WmsInboundShipmentItem WmsInboundShipmentItem
	WmsInboundShipment     WmsInboundShipment
	WmsProduct             WmsProduct
}

func (q *Queries) WmsRangeInboundShipmentItem(ctx context.Context, arg WmsRangeInboundShipmentItemParams) ([]WmsRangeInboundShipmentItemRow, error) {
	rows, err := q.db.Query(ctx, wmsRangeInboundShipmentItem, arg.Datefrom, arg.Dateto, arg.Search)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []WmsRangeInboundShipmentItemRow
	for rows.Next() {
		var i WmsRangeInboundShipmentItemRow
		if err := rows.Scan(
			&i.WmsInboundShipmentItem.ID,
			&i.WmsInboundShipmentItem.InboundShipmentID,
			&i.WmsInboundShipmentItem.ProductID,
			&i.WmsInboundShipmentItem.ExpectedQuantity,
			&i.WmsInboundShipmentItem.ReceivedQuantity,
			&i.WmsInboundShipmentItem.DiscrepancyQuantity,
			&i.WmsInboundShipmentItem.DiscrepancyNotes,
			&i.WmsInboundShipmentItem.CreatedAt,
			&i.WmsInboundShipmentItem.UpdatedAt,
			&i.WmsInboundShipment.ID,
			&i.WmsInboundShipment.ClientID,
			&i.WmsInboundShipment.WarehouseID,
			&i.WmsInboundShipment.Status,
			&i.WmsInboundShipment.ExpectedArrivalDate,
			&i.WmsInboundShipment.ActualArrivalDate,
			&i.WmsInboundShipment.CreatedAt,
			&i.WmsInboundShipment.UpdatedAt,
			&i.WmsProduct.ID,
			&i.WmsProduct.Name,
			&i.WmsProduct.Sku,
			&i.WmsProduct.Barcode,
			&i.WmsProduct.Description,
			&i.WmsProduct.CostPrice,
			&i.WmsProduct.Length,
			&i.WmsProduct.Width,
			&i.WmsProduct.Height,
			&i.WmsProduct.Volume,
			&i.WmsProduct.Weight,
			&i.WmsProduct.Status,
			&i.WmsProduct.SupplierID,
			&i.WmsProduct.ClientID,
			&i.WmsProduct.CreatedAt,
			&i.WmsProduct.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const wmsRemoveInboundShipmentItem = `-- name: WmsRemoveInboundShipmentItem :exec
delete from "wms"."inbound_shipment_items"
where id = $1::uuid
`

func (q *Queries) WmsRemoveInboundShipmentItem(ctx context.Context, id pgtype.UUID) error {
	_, err := q.db.Exec(ctx, wmsRemoveInboundShipmentItem, id)
	return err
}

const wmsUpdateInboundShipmentItem = `-- name: WmsUpdateInboundShipmentItem :one
update
  "wms"."inbound_shipment_items"
set
  inbound_shipment_id = case when $1::boolean then
    $2::uuid
  else
    inbound_shipment_id
  end,
  product_id = case when $3::boolean then
    $4::uuid
  else
    product_id
  end,
  expected_quantity = case when $5::boolean then
    $6::integer
  else
    expected_quantity
  end,
  received_quantity = case when $7::boolean then
    $8::integer
  else
    received_quantity
  end,
  discrepancy_notes = case when $9::boolean then
    $10::text
  else
    discrepancy_notes
  end
where
  id = $11::uuid
returning
  id, inbound_shipment_id, product_id, expected_quantity, received_quantity, discrepancy_quantity, discrepancy_notes, created_at, updated_at
`

type WmsUpdateInboundShipmentItemParams struct {
	SetInboundShipmentID bool
	InboundShipmentID    pgtype.UUID
	SetProductID         bool
	ProductID            pgtype.UUID
	SetExpectedQuantity  bool
	ExpectedQuantity     int32
	SetReceivedQuantity  bool
	ReceivedQuantity     int32
	SetDiscrepancyNotes  bool
	DiscrepancyNotes     string
	ID                   pgtype.UUID
}

func (q *Queries) WmsUpdateInboundShipmentItem(ctx context.Context, arg WmsUpdateInboundShipmentItemParams) (WmsInboundShipmentItem, error) {
	row := q.db.QueryRow(ctx, wmsUpdateInboundShipmentItem,
		arg.SetInboundShipmentID,
		arg.InboundShipmentID,
		arg.SetProductID,
		arg.ProductID,
		arg.SetExpectedQuantity,
		arg.ExpectedQuantity,
		arg.SetReceivedQuantity,
		arg.ReceivedQuantity,
		arg.SetDiscrepancyNotes,
		arg.DiscrepancyNotes,
		arg.ID,
	)
	var i WmsInboundShipmentItem
	err := row.Scan(
		&i.ID,
		&i.InboundShipmentID,
		&i.ProductID,
		&i.ExpectedQuantity,
		&i.ReceivedQuantity,
		&i.DiscrepancyQuantity,
		&i.DiscrepancyNotes,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}
