// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: warehouses.sql

package repository

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const createWarehouse = `-- name: CreateWarehouse :one
insert into warehouses (
  name, 
  address, 
  longitude, 
  latitude, 
  manager
)
values (
  $1::text, 
  $2::text, 
  $3::decimal, 
  $4::decimal, 
  $5::uuid
)
returning id, name, address, longitude, latitude, manager, created, updated
`

type CreateWarehouseParams struct {
	Name      string
	Address   string
	Longitude pgtype.Numeric
	Latitude  pgtype.Numeric
	ManagerID pgtype.UUID
}

func (q *Queries) CreateWarehouse(ctx context.Context, arg CreateWarehouseParams) (Warehouse, error) {
	row := q.db.QueryRow(ctx, createWarehouse,
		arg.Name,
		arg.Address,
		arg.Longitude,
		arg.Latitude,
		arg.ManagerID,
	)
	var i Warehouse
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Address,
		&i.Longitude,
		&i.Latitude,
		&i.Manager,
		&i.Created,
		&i.Updated,
	)
	return i, err
}

const deleteWarehouse = `-- name: DeleteWarehouse :one
delete from warehouses where id = $1::uuid returning id, name, address, longitude, latitude, manager, created, updated
`

func (q *Queries) DeleteWarehouse(ctx context.Context, id pgtype.UUID) (Warehouse, error) {
	row := q.db.QueryRow(ctx, deleteWarehouse, id)
	var i Warehouse
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Address,
		&i.Longitude,
		&i.Latitude,
		&i.Manager,
		&i.Created,
		&i.Updated,
	)
	return i, err
}

const getAllWarehouses = `-- name: GetAllWarehouses :many
select id, name, address, longitude, latitude, manager, created, updated from warehouses order by created desc
`

func (q *Queries) GetAllWarehouses(ctx context.Context) ([]Warehouse, error) {
	rows, err := q.db.Query(ctx, getAllWarehouses)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Warehouse
	for rows.Next() {
		var i Warehouse
		if err := rows.Scan(
			&i.ID,
			&i.Name,
			&i.Address,
			&i.Longitude,
			&i.Latitude,
			&i.Manager,
			&i.Created,
			&i.Updated,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getWarehouseByID = `-- name: GetWarehouseByID :one
select id, name, address, longitude, latitude, manager, created, updated from warehouses where id = $1::uuid
`

func (q *Queries) GetWarehouseByID(ctx context.Context, id pgtype.UUID) (Warehouse, error) {
	row := q.db.QueryRow(ctx, getWarehouseByID, id)
	var i Warehouse
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Address,
		&i.Longitude,
		&i.Latitude,
		&i.Manager,
		&i.Created,
		&i.Updated,
	)
	return i, err
}

const getWarehousesByLocation = `-- name: GetWarehousesByLocation :many
select id, name, address, longitude, latitude, manager, created, updated from warehouses where longitude = $1::decimal and latitude = $2::decimal order by created desc offset $3::integer limit $4::integer
`

type GetWarehousesByLocationParams struct {
	Longitude pgtype.Numeric
	Latitude  pgtype.Numeric
	Page      int32
	PerPage   int32
}

func (q *Queries) GetWarehousesByLocation(ctx context.Context, arg GetWarehousesByLocationParams) ([]Warehouse, error) {
	rows, err := q.db.Query(ctx, getWarehousesByLocation,
		arg.Longitude,
		arg.Latitude,
		arg.Page,
		arg.PerPage,
	)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Warehouse
	for rows.Next() {
		var i Warehouse
		if err := rows.Scan(
			&i.ID,
			&i.Name,
			&i.Address,
			&i.Longitude,
			&i.Latitude,
			&i.Manager,
			&i.Created,
			&i.Updated,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getWarehousesByManager = `-- name: GetWarehousesByManager :many
select id, name, address, longitude, latitude, manager, created, updated from warehouses where manager = $1::uuid order by created desc offset $2::integer limit $3::integer
`

type GetWarehousesByManagerParams struct {
	ManagerID pgtype.UUID
	Page      int32
	PerPage   int32
}

func (q *Queries) GetWarehousesByManager(ctx context.Context, arg GetWarehousesByManagerParams) ([]Warehouse, error) {
	rows, err := q.db.Query(ctx, getWarehousesByManager, arg.ManagerID, arg.Page, arg.PerPage)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Warehouse
	for rows.Next() {
		var i Warehouse
		if err := rows.Scan(
			&i.ID,
			&i.Name,
			&i.Address,
			&i.Longitude,
			&i.Latitude,
			&i.Manager,
			&i.Created,
			&i.Updated,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const paginateWarehouses = `-- name: PaginateWarehouses :many
select id, name, address, longitude, latitude, manager, created, updated from warehouses order by created desc offset $1::integer limit $2::integer
`

type PaginateWarehousesParams struct {
	Page    int32
	PerPage int32
}

func (q *Queries) PaginateWarehouses(ctx context.Context, arg PaginateWarehousesParams) ([]Warehouse, error) {
	rows, err := q.db.Query(ctx, paginateWarehouses, arg.Page, arg.PerPage)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Warehouse
	for rows.Next() {
		var i Warehouse
		if err := rows.Scan(
			&i.ID,
			&i.Name,
			&i.Address,
			&i.Longitude,
			&i.Latitude,
			&i.Manager,
			&i.Created,
			&i.Updated,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const searchWarehouses = `-- name: SearchWarehouses :many
select id, name, address, longitude, latitude, manager, created, updated from warehouses where name ilike '%' || $1::text || '%' or address ilike '%' || $1::text || '%' order by created desc offset $2::integer limit $3::integer
`

type SearchWarehousesParams struct {
	SearchText string
	Page       int32
	PerPage    int32
}

func (q *Queries) SearchWarehouses(ctx context.Context, arg SearchWarehousesParams) ([]Warehouse, error) {
	rows, err := q.db.Query(ctx, searchWarehouses, arg.SearchText, arg.Page, arg.PerPage)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Warehouse
	for rows.Next() {
		var i Warehouse
		if err := rows.Scan(
			&i.ID,
			&i.Name,
			&i.Address,
			&i.Longitude,
			&i.Latitude,
			&i.Manager,
			&i.Created,
			&i.Updated,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updateWarehouseAddress = `-- name: UpdateWarehouseAddress :one
update warehouses set address = $1::text where id = $2::uuid returning id, name, address, longitude, latitude, manager, created, updated
`

type UpdateWarehouseAddressParams struct {
	Address string
	ID      pgtype.UUID
}

func (q *Queries) UpdateWarehouseAddress(ctx context.Context, arg UpdateWarehouseAddressParams) (Warehouse, error) {
	row := q.db.QueryRow(ctx, updateWarehouseAddress, arg.Address, arg.ID)
	var i Warehouse
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Address,
		&i.Longitude,
		&i.Latitude,
		&i.Manager,
		&i.Created,
		&i.Updated,
	)
	return i, err
}

const updateWarehouseLatitude = `-- name: UpdateWarehouseLatitude :one
update warehouses set latitude = $1::decimal where id = $2::uuid returning id, name, address, longitude, latitude, manager, created, updated
`

type UpdateWarehouseLatitudeParams struct {
	Latitude pgtype.Numeric
	ID       pgtype.UUID
}

func (q *Queries) UpdateWarehouseLatitude(ctx context.Context, arg UpdateWarehouseLatitudeParams) (Warehouse, error) {
	row := q.db.QueryRow(ctx, updateWarehouseLatitude, arg.Latitude, arg.ID)
	var i Warehouse
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Address,
		&i.Longitude,
		&i.Latitude,
		&i.Manager,
		&i.Created,
		&i.Updated,
	)
	return i, err
}

const updateWarehouseLongitude = `-- name: UpdateWarehouseLongitude :one
update warehouses set longitude = $1::decimal where id = $2::uuid returning id, name, address, longitude, latitude, manager, created, updated
`

type UpdateWarehouseLongitudeParams struct {
	Longitude pgtype.Numeric
	ID        pgtype.UUID
}

func (q *Queries) UpdateWarehouseLongitude(ctx context.Context, arg UpdateWarehouseLongitudeParams) (Warehouse, error) {
	row := q.db.QueryRow(ctx, updateWarehouseLongitude, arg.Longitude, arg.ID)
	var i Warehouse
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Address,
		&i.Longitude,
		&i.Latitude,
		&i.Manager,
		&i.Created,
		&i.Updated,
	)
	return i, err
}

const updateWarehouseManager = `-- name: UpdateWarehouseManager :one
update warehouses set manager = $1::uuid where id = $2::uuid returning id, name, address, longitude, latitude, manager, created, updated
`

type UpdateWarehouseManagerParams struct {
	ManagerID pgtype.UUID
	ID        pgtype.UUID
}

func (q *Queries) UpdateWarehouseManager(ctx context.Context, arg UpdateWarehouseManagerParams) (Warehouse, error) {
	row := q.db.QueryRow(ctx, updateWarehouseManager, arg.ManagerID, arg.ID)
	var i Warehouse
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Address,
		&i.Longitude,
		&i.Latitude,
		&i.Manager,
		&i.Created,
		&i.Updated,
	)
	return i, err
}

const updateWarehouseName = `-- name: UpdateWarehouseName :one
update warehouses set name = $1::text where id = $2::uuid returning id, name, address, longitude, latitude, manager, created, updated
`

type UpdateWarehouseNameParams struct {
	Name string
	ID   pgtype.UUID
}

func (q *Queries) UpdateWarehouseName(ctx context.Context, arg UpdateWarehouseNameParams) (Warehouse, error) {
	row := q.db.QueryRow(ctx, updateWarehouseName, arg.Name, arg.ID)
	var i Warehouse
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Address,
		&i.Longitude,
		&i.Latitude,
		&i.Manager,
		&i.Created,
		&i.Updated,
	)
	return i, err
}
