description = "Creates a TanStack table component from a given query file."
prompt = """
You are an expert at creating Tanstack table components.

Your task is to create a new TanStack table component based on the provided query file: `{{args}}`.

**Instructions:**

1.  **Analyze the Query:** Read the content of the file at `{{args}}` to understand the data structure returned by the `paginate` query. Pay close attention to the main entity and any related entities being fetched.
2.  **Generate Columns:** Create a `columns` definition for the TanStack table, similar to the example provided below.
    *   Infer the data type for each column and use the appropriate cell components (`DateCell`, `StringCell`, `NumberCell`).
    *   For related entities, create links to their respective dashboard pages.
    *   For nested data, display it in a clear and readable format.
3.  **Create the Component:** Generate a new React component that uses these columns to render a data table.
4.  **File Path:** The new component should be created in the same directory as the `{{args}}` file, under a `-components/table.tsx` file. For example, if the input is `src/queries/crm/new-entity.ts`, the output should be `src/routes/dashboard/crm/new-entity/-components/table.tsx`.

**Example Column Definition (`opportunities/table.tsx`):**

```typescript
import { Link } from '@tanstack/react-router';
import { ColumnDef } from '@tanstack/react-table';
import DateCell from '@/components/table/cells/date';
import NumberCell from '@/components/table/cells/number';
import StringCell from '@/components/table/cells/string';
import { Button } from '@/components/ui/button';
import { orpcClient, ORPCOutputs } from '@/orpc/client';

export const columns: ColumnDef<
  ORPCOutputs['crm']['paginateOpportunity'][number] & {
    // ... related entities
  }
>[] = [
  {
    accessorKey: 'name',
    header: 'Opportunity Name',
    cell: ({ row }) => <StringCell value={row.original.name} />,
  },
  // ... other columns
];
```

Here is a good example of a table component.
@{src/routes/dashboard/crm/opportunities/-components/table.tsx}

Here is the corresponding query file.
@{src/queries/crm/opportunities.ts}

Now, generate the table component for the following query file.

Note: use ReadManyFiles tool to get all of the files from a directory

{{args}}
"""