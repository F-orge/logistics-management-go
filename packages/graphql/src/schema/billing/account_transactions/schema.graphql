enum TransactionType {
  CREDIT
  DEBIT
  TOP_UP
  REFUND
  ADJUSTMENT
  FEE
}

type AccountTransactions {
  id: ID!
  clientAccount: ClientAccounts!
  type: TransactionType!
  amount: Float!
  runningBalance: Float
  sourceRecordId: ID
  sourceRecordType: String
  description: String
  referenceNumber: String
  transactionDate: String
  processedByUser: User
  createdAt: String
  updatedAt: String
}

extend type BillingQuery {
  accountTransactions(page: Int, perPage: Int, from: Date, to: Date): [AccountTransactions!]!
  accountTransaction(id: ID!): AccountTransactions!
}

input CreateAccountTransactionInput {
  clientAccountId: ID!
  type: TransactionType!
  amount: Float!
  runningBalance: Float
  sourceRecordId: ID
  sourceRecordType: String
  description: String
  referenceNumber: String
  transactionDate: String
  processedByUserId: ID
}

input UpdateAccountTransactionInput {
  clientAccountId: ID
  type: TransactionType
  amount: Float
  runningBalance: Float
  sourceRecordId: ID
  sourceRecordType: String
  description: String
  referenceNumber: String
  transactionDate: String
  processedByUserId: ID
}

extend type BillingMutation {
  createAccountTransaction(value: CreateAccountTransactionInput!): AccountTransactions!
  updateAccountTransaction(id: ID!, value: UpdateAccountTransactionInput): AccountTransactions!
  removeAccountTransaction(id: ID!): DeleteResult!
}