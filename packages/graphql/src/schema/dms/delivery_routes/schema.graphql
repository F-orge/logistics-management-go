enum DeliveryRouteStatus {
	PLANNED
	IN_PROGRESS
	COMPLETED
	CANCELLED
	PAUSED
}

type DeliveryRoutes {
	id: ID!
	driver: Drivers!
	routeDate: String!
	status: DeliveryRouteStatus
	optimizedRouteData: String
	totalDistanceKm: Float
	estimatedDurationMinutes: Int
	actualDurationMinutes: Int
	startedAt: String
	completedAt: String
	createdAt: Date
	updatedAt: Date
	tasks: [DeliveryTasks!]
}

extend type DmsQuery {
	deliveryRoutes(
		page: Int
		perPage: Int
		from: Date
		to: Date
		search: String
		status: DeliveryRouteStatus
	): [DeliveryRoutes!]!
	deliveryRoute(id: ID!): DeliveryRoutes!
}

input CreateDeliveryRouteInput {
	driverId: ID!
	routeDate: String! @constraint(minLength: 1)
	status: DeliveryRouteStatus
	optimizedRouteData: String @constraint(minLength: 1)
	totalDistanceKm: Float @constraint(min: 0)
	estimatedDurationMinutes: Int @constraint(min: 0)
	startedAt: String @constraint(minLength: 1)
}

input UpdateDeliveryRouteInput {
	routeDate: String @constraint(minLength: 1)
	status: DeliveryRouteStatus
	optimizedRouteData: String @constraint(minLength: 1)
	totalDistanceKm: Float @constraint(min: 0)
	estimatedDurationMinutes: Int @constraint(min: 0)
	startedAt: String @constraint(minLength: 1)
	completedAt: String @constraint(minLength: 1)
}

extend type DmsMutation {
	createDeliveryRoute(value: CreateDeliveryRouteInput!): DeliveryRoutes!
	updateDeliveryRoute(id: ID!, value: UpdateDeliveryRouteInput): DeliveryRoutes!
	removeDeliveryRoute(id: ID!): DeleteResult!
}

extend type Subscription {
	deliveryRouteStarted: DeliveryRoutes!
	deliveryRouteCompleted: DeliveryRoutes!
	deliveryRoutePaused: DeliveryRoutes!
	deliveryRouteCancelled: DeliveryRoutes!
}

extend type Subscription {
	deliveryRouteStarted: DeliveryRoutes!
	deliveryRouteCompleted: DeliveryRoutes!
	deliveryRoutePaused: DeliveryRoutes!
	deliveryRouteCancelled: DeliveryRoutes!
}
