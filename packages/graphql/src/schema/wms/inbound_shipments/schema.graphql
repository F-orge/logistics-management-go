enum InboundShipmentStatus {
	PENDING
	ARRIVED
	PROCESSING
	COMPLETED
	CANCELLED
}

type InboundShipments {
	id: ID!
	client: Companies
	warehouseId: ID!
	status: InboundShipmentStatus
	expectedArrivalDate: String
	actualArrivalDate: String
	createdAt: Date
	updatedAt: Date
	items: [InboundShipmentItems!]
}

extend type WmsQuery {
	inboundShipments(
		page: Int
		perPage: Int
		from: Date
		to: Date
		status: InboundShipmentStatus
	): [InboundShipments!]!
	inboundShipment(id: ID!): InboundShipments!
}

input CreateInboundShipmentInput {
	clientId: ID
	warehouseId: ID!
	status: InboundShipmentStatus
	expectedArrivalDate: String @constraint(minLength: 1)
	items: [CreateInboundShipmentItemInput!]!
}

input UpdateInboundShipmentInput {
	status: InboundShipmentStatus
	expectedArrivalDate: String @constraint(minLength: 1)
	actualArrivalDate: String @constraint(minLength: 1)
}

extend type WmsMutation {
	createInboundShipment(value: CreateInboundShipmentInput!): InboundShipments!
	updateInboundShipment(
		id: ID!
		value: UpdateInboundShipmentInput
	): InboundShipments!
	removeInboundShipment(id: ID!): DeleteResult!
}

type WmsInboundShipmentStatusChangedEvent {
	id: ID!
	newStatus: InboundShipmentStatus!
	previousStatus: InboundShipmentStatus!
	warehouseId: ID!
}

extend type Subscription {
	inboundShipmentReceived: InboundShipments!
	inboundShipmentStatusChanged: WmsInboundShipmentStatusChangedEvent!
	inboundShipmentProcessing: InboundShipments!
	inboundShipmentCompleted: InboundShipments!
}
