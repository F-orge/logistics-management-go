type OpportunityProducts {
  opportunity: Opportunities!
  product: Products!
  quantity: Int!
}

extend type CrmQuery {
  opportunityProducts(page: Int, perPage: Int): [OpportunityProducts!]!
  opportunityProduct(opportunityId: ID!, productId: ID!): OpportunityProducts!
}

input CreateOpportunityProductInput {
  opportunityId: ID!
  productId: ID!
  quantity: Int!
}

input UpdateOpportunityProductInput {
  quantity: Int
}

extend type CrmMutation {
  createOpportunityProduct(value: CreateOpportunityProductInput!): OpportunityProducts!
  updateOpportunityProduct(opportunityId: ID!, productId: ID!, value: UpdateOpportunityProductInput): OpportunityProducts!
  removeOpportunityProduct(opportunityId: ID!, productId: ID!): DeleteResult!
}