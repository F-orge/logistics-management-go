enum InteractionType {
	CALL
	MEETING
	TEXT
	EMAIL
}

enum InteractionOutcome {
	SCHEDULED
	COMPLETED
	NO_ANSWER
	OTHER
}

type Interactions {
	id: ID!
	contact: Contacts!
	user: User
	case: Cases
	type: InteractionType
	outcome: InteractionOutcome
	notes: String
	interactionDate: Date
	createdAt: Date
	updatedAt: Date
}

extend type CrmQuery {
	interactions(
		page: Int
		perPage: Int
		from: Date
		to: Date
		search: String
		interactionType: InteractionType
	): [Interactions!]!
	interaction(id: ID!): Interactions!
}

input CreateInteractionInput {
	contactId: ID!
	userId: ID!
	caseId: ID
	type: InteractionType
	outcome: InteractionOutcome
	notes: String @constraint(minLength: 1)
	interactionDate: Date
}

input UpdateInteractionInput {
	type: InteractionType
	outcome: InteractionOutcome
	notes: String @constraint(minLength: 1)
	interactionDate: Date
}

extend type CrmMutation {
	createInteraction(value: CreateInteractionInput!): Interactions!
	updateInteraction(id: ID!, value: UpdateInteractionInput): Interactions!
	removeInteraction(id: ID!): DeleteResult!
}
