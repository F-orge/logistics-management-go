enum ProofType {
	SIGNATURE
	PHOTO
	BARCODE_SCAN
	PIN_VERIFICATION
}

type ProofOfDeliveries {
	id: ID!
	tripStop: TripStops!
	type: ProofType
	filePath: String
	timestamp: String!
	latitude: Float
	longitude: Float
	createdAt: Date
	updatedAt: Date
}

extend type TmsQuery {
	proofOfDeliveries(
		page: Int
		perPage: Int
		from: Date
		to: Date
		search: String
		type: ProofType
	): [ProofOfDeliveries!]!
	proofOfDelivery(id: ID!): ProofOfDeliveries!
}

input CreateProofOfDeliveryInput {
	tripStopId: ID!
	type: ProofType
	files: [File!]!
	latitude: Float @constraint(min: -90, max: 90)
	longitude: Float @constraint(min: -180, max: 180)
}

input UpdateProofOfDeliveryInput {
	type: ProofType
}

extend type TmsMutation {
	createProofOfDelivery(value: CreateProofOfDeliveryInput!): ProofOfDeliveries!
	updateProofOfDelivery(
		id: ID!
		value: UpdateProofOfDeliveryInput
	): ProofOfDeliveries!
}
