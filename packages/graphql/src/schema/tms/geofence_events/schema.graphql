enum GeofenceEventType {
	ENTER
	EXIT
}

type GeofenceEvents {
	id: ID!
	vehicle: Vehicles!
	geofence: Geofences!
	eventType: GeofenceEventType!
	timestamp: String!
}

extend type TmsQuery {
	geofenceEvents(
		page: Int
		perPage: Int
		geofenceId: ID
		vehicleId: ID
		eventType: GeofenceEventType
		from: Date
		to: Date
	): [GeofenceEvents!]!
	geofenceEvent(id: ID!): GeofenceEvents!
}

input CreateGeofenceEventInput {
	vehicleId: ID!
	geofenceId: ID!
	eventType: GeofenceEventType!
	timestamp: String!
}

input UpdateGeofenceEventInput {
	eventType: GeofenceEventType
}

extend type TmsMutation {
	createGeofenceEvent(value: CreateGeofenceEventInput!): GeofenceEvents!
	updateGeofenceEvent(id: ID!, value: UpdateGeofenceEventInput): GeofenceEvents!
}

type TmsGeofenceEvent {
	geofenceEvent: GeofenceEvents!
	geofenceName: String!
}

extend type Subscription {
	geofenceEntered: TmsGeofenceEvent!
	geofenceExited: TmsGeofenceEvent!
}
