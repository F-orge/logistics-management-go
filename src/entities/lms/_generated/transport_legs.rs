//! `SeaORM` Entity, @generated by sea-orm-codegen 1.1.12

use super::sea_orm_active_enums::LegStatus;
use super::sea_orm_active_enums::TransportLegType;
use sea_orm::entity::prelude::*;
use serde::Deserialize;

#[derive(Copy, Clone, Default, Debug, DeriveEntity)]
pub struct Entity;

impl EntityName for Entity {
    fn schema_name(&self) -> Option<&str> {
        Some("lms")
    }
    fn table_name(&self) -> &str {
        "transport_legs"
    }
}

#[derive(
    Clone,
    Debug,
    PartialEq,
    DeriveModel,
    DeriveActiveModel,
    Eq,
    Deserialize,
    async_graphql :: SimpleObject,
)]
pub struct Model {
    #[serde(skip_deserializing)]
    pub id: Uuid,
    pub shipment_id: Uuid,
    pub leg_sequence: i32,
    pub transport_type: TransportLegType,
    pub provider_id: Option<Uuid>,
    pub provider_service_id: Option<Uuid>,
    pub provider_tracking_number: Option<String>,
    pub vehicle_id: Option<Uuid>,
    pub driver_id: Option<Uuid>,
    pub origin_warehouse_id: Option<Uuid>,
    pub destination_warehouse_id: Option<Uuid>,
    pub origin_address_id: Option<Uuid>,
    pub destination_address_id: Option<Uuid>,
    pub scheduled_pickup: Option<DateTimeWithTimeZone>,
    pub actual_pickup: Option<DateTimeWithTimeZone>,
    pub scheduled_delivery: Option<DateTimeWithTimeZone>,
    pub actual_delivery: Option<DateTimeWithTimeZone>,
    pub cost: Option<Decimal>,
    pub currency: Option<String>,
    pub status: LegStatus,
    pub special_instructions: Option<String>,
    pub created: DateTimeWithTimeZone,
    pub updated: DateTimeWithTimeZone,
}

#[derive(Copy, Clone, Debug, EnumIter, DeriveColumn)]
pub enum Column {
    Id,
    ShipmentId,
    LegSequence,
    TransportType,
    ProviderId,
    ProviderServiceId,
    ProviderTrackingNumber,
    VehicleId,
    DriverId,
    OriginWarehouseId,
    DestinationWarehouseId,
    OriginAddressId,
    DestinationAddressId,
    ScheduledPickup,
    ActualPickup,
    ScheduledDelivery,
    ActualDelivery,
    Cost,
    Currency,
    Status,
    SpecialInstructions,
    Created,
    Updated,
}

#[derive(Copy, Clone, Debug, EnumIter, DerivePrimaryKey)]
pub enum PrimaryKey {
    Id,
}

impl PrimaryKeyTrait for PrimaryKey {
    type ValueType = Uuid;
    fn auto_increment() -> bool {
        false
    }
}

#[derive(Copy, Clone, Debug, EnumIter)]
pub enum Relation {
    Addresses2,
    Addresses1,
    Drivers,
    ProviderInvoiceLineItems,
    ProviderPerformance,
    ProviderServices,
    Shipments,
    TransportationProviders,
    Vehicles,
    Warehouses2,
    Warehouses1,
}

impl ColumnTrait for Column {
    type EntityName = Entity;
    fn def(&self) -> ColumnDef {
        match self {
            Self::Id => ColumnType::Uuid.def(),
            Self::ShipmentId => ColumnType::Uuid.def(),
            Self::LegSequence => ColumnType::Integer.def(),
            Self::TransportType => TransportLegType::db_type()
                .get_column_type()
                .to_owned()
                .def(),
            Self::ProviderId => ColumnType::Uuid.def().null(),
            Self::ProviderServiceId => ColumnType::Uuid.def().null(),
            Self::ProviderTrackingNumber => ColumnType::String(StringLen::N(50u32)).def().null(),
            Self::VehicleId => ColumnType::Uuid.def().null(),
            Self::DriverId => ColumnType::Uuid.def().null(),
            Self::OriginWarehouseId => ColumnType::Uuid.def().null(),
            Self::DestinationWarehouseId => ColumnType::Uuid.def().null(),
            Self::OriginAddressId => ColumnType::Uuid.def().null(),
            Self::DestinationAddressId => ColumnType::Uuid.def().null(),
            Self::ScheduledPickup => ColumnType::TimestampWithTimeZone.def().null(),
            Self::ActualPickup => ColumnType::TimestampWithTimeZone.def().null(),
            Self::ScheduledDelivery => ColumnType::TimestampWithTimeZone.def().null(),
            Self::ActualDelivery => ColumnType::TimestampWithTimeZone.def().null(),
            Self::Cost => ColumnType::Decimal(Some((10u32, 2u32))).def().null(),
            Self::Currency => ColumnType::String(StringLen::N(3u32)).def().null(),
            Self::Status => LegStatus::db_type().get_column_type().to_owned().def(),
            Self::SpecialInstructions => ColumnType::Text.def().null(),
            Self::Created => ColumnType::TimestampWithTimeZone.def(),
            Self::Updated => ColumnType::TimestampWithTimeZone.def(),
        }
    }
}

impl RelationTrait for Relation {
    fn def(&self) -> RelationDef {
        match self {
            Self::Addresses2 => Entity::belongs_to(super::addresses::Entity)
                .from(Column::DestinationAddressId)
                .to(super::addresses::Column::Id)
                .into(),
            Self::Addresses1 => Entity::belongs_to(super::addresses::Entity)
                .from(Column::OriginAddressId)
                .to(super::addresses::Column::Id)
                .into(),
            Self::Drivers => Entity::belongs_to(super::drivers::Entity)
                .from(Column::DriverId)
                .to(super::drivers::Column::Id)
                .into(),
            Self::ProviderInvoiceLineItems => {
                Entity::has_many(super::provider_invoice_line_items::Entity).into()
            }
            Self::ProviderPerformance => {
                Entity::has_many(super::provider_performance::Entity).into()
            }
            Self::ProviderServices => Entity::belongs_to(super::provider_services::Entity)
                .from(Column::ProviderServiceId)
                .to(super::provider_services::Column::Id)
                .into(),
            Self::Shipments => Entity::belongs_to(super::shipments::Entity)
                .from(Column::ShipmentId)
                .to(super::shipments::Column::Id)
                .into(),
            Self::TransportationProviders => {
                Entity::belongs_to(super::transportation_providers::Entity)
                    .from(Column::ProviderId)
                    .to(super::transportation_providers::Column::Id)
                    .into()
            }
            Self::Vehicles => Entity::belongs_to(super::vehicles::Entity)
                .from(Column::VehicleId)
                .to(super::vehicles::Column::Id)
                .into(),
            Self::Warehouses2 => Entity::belongs_to(super::warehouses::Entity)
                .from(Column::DestinationWarehouseId)
                .to(super::warehouses::Column::Id)
                .into(),
            Self::Warehouses1 => Entity::belongs_to(super::warehouses::Entity)
                .from(Column::OriginWarehouseId)
                .to(super::warehouses::Column::Id)
                .into(),
        }
    }
}

impl Related<super::drivers::Entity> for Entity {
    fn to() -> RelationDef {
        Relation::Drivers.def()
    }
}

impl Related<super::provider_invoice_line_items::Entity> for Entity {
    fn to() -> RelationDef {
        Relation::ProviderInvoiceLineItems.def()
    }
}

impl Related<super::provider_performance::Entity> for Entity {
    fn to() -> RelationDef {
        Relation::ProviderPerformance.def()
    }
}

impl Related<super::provider_services::Entity> for Entity {
    fn to() -> RelationDef {
        Relation::ProviderServices.def()
    }
}

impl Related<super::shipments::Entity> for Entity {
    fn to() -> RelationDef {
        Relation::Shipments.def()
    }
}

impl Related<super::transportation_providers::Entity> for Entity {
    fn to() -> RelationDef {
        Relation::TransportationProviders.def()
    }
}

impl Related<super::vehicles::Entity> for Entity {
    fn to() -> RelationDef {
        Relation::Vehicles.def()
    }
}

impl ActiveModelBehavior for ActiveModel {}
