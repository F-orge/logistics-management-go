//! `SeaORM` Entity, @generated by sea-orm-codegen 1.1.12

use super::sea_orm_active_enums::LmsLegStatus;
use super::sea_orm_active_enums::LmsTransportLegType;
use sea_orm::entity::prelude::*;
use serde::Deserialize;

#[derive(Copy, Clone, Default, Debug, DeriveEntity)]
pub struct Entity;

impl EntityName for Entity {
    fn table_name(&self) -> &str {
        "lms_transport_legs"
    }
}

#[derive(
    Clone,
    Debug,
    PartialEq,
    DeriveModel,
    DeriveActiveModel,
    Eq,
    Deserialize,
    async_graphql :: SimpleObject,
)]
pub struct Model {
    #[serde(skip_deserializing)]
    pub id: Uuid,
    pub shipment_id: Uuid,
    pub leg_sequence: i32,
    pub transport_type: LmsTransportLegType,
    pub provider_id: Option<Uuid>,
    pub provider_service_id: Option<Uuid>,
    pub provider_tracking_number: Option<String>,
    pub vehicle_id: Option<Uuid>,
    pub driver_id: Option<Uuid>,
    pub origin_warehouse_id: Option<Uuid>,
    pub destination_warehouse_id: Option<Uuid>,
    pub origin_address_id: Option<Uuid>,
    pub destination_address_id: Option<Uuid>,
    pub scheduled_pickup: Option<DateTimeWithTimeZone>,
    pub actual_pickup: Option<DateTimeWithTimeZone>,
    pub scheduled_delivery: Option<DateTimeWithTimeZone>,
    pub actual_delivery: Option<DateTimeWithTimeZone>,
    pub cost: Option<Decimal>,
    pub currency: Option<String>,
    pub status: LmsLegStatus,
    pub special_instructions: Option<String>,
    pub created: DateTimeWithTimeZone,
    pub updated: DateTimeWithTimeZone,
}

#[derive(Copy, Clone, Debug, EnumIter, DeriveColumn)]
pub enum Column {
    Id,
    ShipmentId,
    LegSequence,
    TransportType,
    ProviderId,
    ProviderServiceId,
    ProviderTrackingNumber,
    VehicleId,
    DriverId,
    OriginWarehouseId,
    DestinationWarehouseId,
    OriginAddressId,
    DestinationAddressId,
    ScheduledPickup,
    ActualPickup,
    ScheduledDelivery,
    ActualDelivery,
    Cost,
    Currency,
    Status,
    SpecialInstructions,
    Created,
    Updated,
}

#[derive(Copy, Clone, Debug, EnumIter, DerivePrimaryKey)]
pub enum PrimaryKey {
    Id,
}

impl PrimaryKeyTrait for PrimaryKey {
    type ValueType = Uuid;
    fn auto_increment() -> bool {
        false
    }
}

#[derive(Copy, Clone, Debug, EnumIter)]
pub enum Relation {
    LmsAddresses2,
    LmsAddresses1,
    LmsProviderInvoiceLineItems,
    LmsProviderPerformance,
    LmsProviderServices,
    LmsShipments,
    LmsTransportationProviders,
    LmsWarehouses2,
    LmsWarehouses1,
    OrgDrivers,
    OrgVehicles,
}

impl ColumnTrait for Column {
    type EntityName = Entity;
    fn def(&self) -> ColumnDef {
        match self {
            Self::Id => ColumnType::Uuid.def(),
            Self::ShipmentId => ColumnType::Uuid.def(),
            Self::LegSequence => ColumnType::Integer.def(),
            Self::TransportType => LmsTransportLegType::db_type()
                .get_column_type()
                .to_owned()
                .def(),
            Self::ProviderId => ColumnType::Uuid.def().null(),
            Self::ProviderServiceId => ColumnType::Uuid.def().null(),
            Self::ProviderTrackingNumber => ColumnType::String(StringLen::N(50u32)).def().null(),
            Self::VehicleId => ColumnType::Uuid.def().null(),
            Self::DriverId => ColumnType::Uuid.def().null(),
            Self::OriginWarehouseId => ColumnType::Uuid.def().null(),
            Self::DestinationWarehouseId => ColumnType::Uuid.def().null(),
            Self::OriginAddressId => ColumnType::Uuid.def().null(),
            Self::DestinationAddressId => ColumnType::Uuid.def().null(),
            Self::ScheduledPickup => ColumnType::TimestampWithTimeZone.def().null(),
            Self::ActualPickup => ColumnType::TimestampWithTimeZone.def().null(),
            Self::ScheduledDelivery => ColumnType::TimestampWithTimeZone.def().null(),
            Self::ActualDelivery => ColumnType::TimestampWithTimeZone.def().null(),
            Self::Cost => ColumnType::Decimal(Some((10u32, 2u32))).def().null(),
            Self::Currency => ColumnType::String(StringLen::N(3u32)).def().null(),
            Self::Status => LmsLegStatus::db_type().get_column_type().to_owned().def(),
            Self::SpecialInstructions => ColumnType::Text.def().null(),
            Self::Created => ColumnType::TimestampWithTimeZone.def(),
            Self::Updated => ColumnType::TimestampWithTimeZone.def(),
        }
    }
}

impl RelationTrait for Relation {
    fn def(&self) -> RelationDef {
        match self {
            Self::LmsAddresses2 => Entity::belongs_to(super::lms_addresses::Entity)
                .from(Column::DestinationAddressId)
                .to(super::lms_addresses::Column::Id)
                .into(),
            Self::LmsAddresses1 => Entity::belongs_to(super::lms_addresses::Entity)
                .from(Column::OriginAddressId)
                .to(super::lms_addresses::Column::Id)
                .into(),
            Self::LmsProviderInvoiceLineItems => {
                Entity::has_many(super::lms_provider_invoice_line_items::Entity).into()
            }
            Self::LmsProviderPerformance => {
                Entity::has_many(super::lms_provider_performance::Entity).into()
            }
            Self::LmsProviderServices => Entity::belongs_to(super::lms_provider_services::Entity)
                .from(Column::ProviderServiceId)
                .to(super::lms_provider_services::Column::Id)
                .into(),
            Self::LmsShipments => Entity::belongs_to(super::lms_shipments::Entity)
                .from(Column::ShipmentId)
                .to(super::lms_shipments::Column::Id)
                .into(),
            Self::LmsTransportationProviders => {
                Entity::belongs_to(super::lms_transportation_providers::Entity)
                    .from(Column::ProviderId)
                    .to(super::lms_transportation_providers::Column::Id)
                    .into()
            }
            Self::LmsWarehouses2 => Entity::belongs_to(super::lms_warehouses::Entity)
                .from(Column::DestinationWarehouseId)
                .to(super::lms_warehouses::Column::Id)
                .into(),
            Self::LmsWarehouses1 => Entity::belongs_to(super::lms_warehouses::Entity)
                .from(Column::OriginWarehouseId)
                .to(super::lms_warehouses::Column::Id)
                .into(),
            Self::OrgDrivers => Entity::belongs_to(super::org_drivers::Entity)
                .from(Column::DriverId)
                .to(super::org_drivers::Column::Id)
                .into(),
            Self::OrgVehicles => Entity::belongs_to(super::org_vehicles::Entity)
                .from(Column::VehicleId)
                .to(super::org_vehicles::Column::Id)
                .into(),
        }
    }
}

impl Related<super::lms_provider_invoice_line_items::Entity> for Entity {
    fn to() -> RelationDef {
        Relation::LmsProviderInvoiceLineItems.def()
    }
}

impl Related<super::lms_provider_performance::Entity> for Entity {
    fn to() -> RelationDef {
        Relation::LmsProviderPerformance.def()
    }
}

impl Related<super::lms_provider_services::Entity> for Entity {
    fn to() -> RelationDef {
        Relation::LmsProviderServices.def()
    }
}

impl Related<super::lms_shipments::Entity> for Entity {
    fn to() -> RelationDef {
        Relation::LmsShipments.def()
    }
}

impl Related<super::lms_transportation_providers::Entity> for Entity {
    fn to() -> RelationDef {
        Relation::LmsTransportationProviders.def()
    }
}

impl Related<super::org_drivers::Entity> for Entity {
    fn to() -> RelationDef {
        Relation::OrgDrivers.def()
    }
}

impl Related<super::org_vehicles::Entity> for Entity {
    fn to() -> RelationDef {
        Relation::OrgVehicles.def()
    }
}

impl ActiveModelBehavior for ActiveModel {}
