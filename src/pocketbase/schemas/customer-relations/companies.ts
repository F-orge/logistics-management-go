/**
 * Auto-generated Zod schema for CustomerRelationsCompanies
 * Generated by: scripts/generate-zod-schemas.ts
 * DO NOT EDIT MANUALLY
 */

import { z } from "zod";
import { fieldConfigFactory } from "@/components/ui/autoform/AutoForm";
import {
  fieldRegistry,
  fieldSetRegistry,
} from "@/components/ui/autoform-tanstack/types";
import { RelationFieldProps } from "@/components/ui/forms/fields";
import { Collections } from "@/lib/pb.types";
import { pocketbase } from "@/pocketbase";

export const CompaniesSchema = z
  .object({
    id: z.string(),
    name: z
      .string()
      .nonempty()
      .register(fieldRegistry, {
        id: "name",
        type: "field",
        inputType: "text",
        label: "Company Name",
        description: "Name of the company",
        props: {
          placeholder: "Company",
        },
      }),
    street: z.string().optional(),
    city: z.string().optional(),
    state: z.string().optional(),
    postalCode: z.string().optional(),
    country: z.string().optional(),
    phoneNumber: z.string().optional(),
    industry: z.string().optional(),
    website: z.url().optional(),
    annualRevenue: z.number().optional(),
    owner: z
      .string()
      .optional()
      .register(fieldRegistry, {
        type: "field",
        id: "owner",
        inputType: "relation",
        props: {
          pocketbase: pocketbase,
          collectionName: Collections.Users,
          relationshipName: "owner",
          displayField: "name",
        } as RelationFieldProps<any>,
      }),
    attachments: z.file().array(),
    created: z.iso.datetime().optional(),
    updated: z.iso.datetime().optional(),
  })
  .register(fieldSetRegistry, { separator: true });

export type Companies = z.infer<typeof CompaniesSchema>;
