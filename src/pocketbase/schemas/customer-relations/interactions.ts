/**
 * Auto-generated Zod schema for CustomerRelationsInteractions
 * Generated by: scripts/generate-zod-schemas.ts
 * DO NOT EDIT MANUALLY
 */

import { z } from "zod";

export const InteractionsSchema = z
  .object({
    id: z.string(),
    contact: z.string(),
    user: z.string(),
    case: z.string().optional(),
    type: z.enum(["call", "meeting", "text", "email"]).optional(),
    outcome: z.string().optional(),
    notes: z.unknown().optional(),
    attachments: z.file().array().optional(),
    interactionDate: z.string().datetime().or(z.string().date()).optional(),
  })
  .superRefine((data, ctx) => {
    if (!data.contact) {
      ctx.addIssue({
        code: "custom",
        path: ["contact"],
        message: "Contact is required for interaction audit trail",
      });
    }

    if (!data.user) {
      ctx.addIssue({
        code: "custom",
        path: ["user"],
        message:
          "User (who conducted the interaction) is required for audit trail",
      });
    }

    console.info(
      "ğŸ“ Interaction Record: Creates immutable audit trail of contact communications. Linked to cases for support history."
    );
  });

export type Interactions = z.infer<typeof InteractionsSchema>;
